<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>Patryk Bobrowski - Tw√≥rca Wizji</title>
    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="favi.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favi.png">
    <link rel="apple-touch-icon" sizes="180x180" href="favi.png">
    <link rel="shortcut icon" href="favi.png">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#00BFFF">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <!-- Security meta directives (best-effort in static HTML; prefer server headers in production) -->
    <!-- Comprehensive CSP tuned to current assets. NOTE: Inline scripts/Babel require 'unsafe-inline' and 'unsafe-eval'. -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; 
      base-uri 'self'; object-src 'none'; frame-ancestors 'self'; upgrade-insecure-requests; 
      script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdnjs.cloudflare.com https://unpkg.com https://cdn.tailwindcss.com https://www.googletagmanager.com https://www.google-analytics.com; 
      style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; 
      img-src 'self' data: blob: https://i.ytimg.com; 
      font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com data:; 
      connect-src 'self' https://formspree.io https://www.google-analytics.com https://region1.google-analytics.com https://www.googletagmanager.com; 
      media-src 'self' blob:; 
      frame-src 'self' https://www.youtube.com https://player.vimeo.com">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Permissions-Policy" content="accelerometer=(), autoplay=(), camera=(), clipboard-read=(), clipboard-write=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), hid=(), idle-detection=(), magnetometer=(), microphone=(), midi=(), payment=(), usb=(), vr=(), xr-spatial-tracking=()">
    <link rel="stylesheet" href="styles.css?v=vibrant-glass-neomorphic-2025-08-08-01">
    
    <!-- OPTIMIZED PRELOAD - Only critical resources -->
    <link rel="preload" href="videos/reklama.mp4" as="video" type="video/mp4" crossorigin>
    <link rel="preload" href="videos/ELONMUSKNEWS.mp4" as="video" type="video/mp4" crossorigin>
    
    <!-- DNS prefetch for better performance -->
    <link rel="dns-prefetch" href="//www.googletagmanager.com">
    <link rel="dns-prefetch" href="//www.google-analytics.com">
    
    <!-- Service Worker Registration for GitHub Pages -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('‚úÖ Service Worker registered:', registration);
                    })
                    .catch(error => {
                        console.log('‚ùå Service Worker registration failed:', error);
                    });
            });
        }
    </script>
    
    <!-- Google Consent Mode v2: default deny -->
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){ dataLayer.push(arguments); }
        gtag('consent', 'default', {
            ad_storage: 'denied',
            analytics_storage: 'denied',
            ad_user_data: 'denied',
            ad_personalization: 'denied',
            wait_for_update: 500
        });
    </script>
    <!-- Google Analytics (gtag.js) - gated by cookie consent -->
    <script>
        (function(){
            function loadGA(){
                if (window.__gaLoaded) return;
                window.__gaLoaded = true;
                window.dataLayer = window.dataLayer || [];
                function gtag(){ window.dataLayer.push(arguments); }
                window.gtag = gtag;
                // Apply consent based on saved preferences before loading GA
                try {
                    var saved = JSON.parse(localStorage.getItem('cookie-consent-v1') || '{}');
                    var analyticsOn = !!saved.analytics;
                    var marketingOn = !!saved.marketing;
                    gtag('consent', 'update', {
                        analytics_storage: analyticsOn ? 'granted' : 'denied',
                        ad_storage: marketingOn ? 'granted' : 'denied',
                        ad_user_data: marketingOn ? 'granted' : 'denied',
                        ad_personalization: marketingOn ? 'granted' : 'denied'
                    });
                } catch (_e) {}
                var s = document.createElement('script');
                s.async = true;
                s.src = 'https://www.googletagmanager.com/gtag/js?id=G-89YQWBDKB5';
                document.head.appendChild(s);
                gtag('js', new Date());
                gtag('config', 'G-89YQWBDKB5', { anonymize_ip: true });
            }
            try {
                var consent = JSON.parse(localStorage.getItem('cookie-consent-v1') || '{}');
                // Always reflect current consent via Consent Mode
                gtag('consent', 'update', {
                    analytics_storage: consent.analytics ? 'granted' : 'denied',
                    ad_storage: consent.marketing ? 'granted' : 'denied',
                    ad_user_data: consent.marketing ? 'granted' : 'denied',
                    ad_personalization: consent.marketing ? 'granted' : 'denied'
                });
                if (consent.analytics) loadGA();
            } catch (e) {}
            window.addEventListener('storage', function(event){
                if (event.key === 'cookie-consent-v1') {
                    try {
                        var state = JSON.parse(event.newValue || '{}');
                        gtag('consent', 'update', {
                            analytics_storage: state.analytics ? 'granted' : 'denied',
                            ad_storage: state.marketing ? 'granted' : 'denied',
                            ad_user_data: state.marketing ? 'granted' : 'denied',
                            ad_personalization: state.marketing ? 'granted' : 'denied'
                        });
                        if (state.analytics) loadGA();
                    } catch (_e) {}
                }
            });
        })();
    </script>
    <!-- üî• FORCE ELECTRIC BLUE STYLES -->
    <style>
        /* Emergency Electric Blue Override */
        /* üåü ULTIMATE NEON HOLOGRAPHIC HEADERS */
        .ultimate-neon-header {
            background: linear-gradient(
                45deg,
                #ffffff 0%,
                #00BFFF 15%,
                #1E90FF 35%,
                #00FFFF 55%,
                #ffffff 75%,
                #00BFFF 100%
            ) !important;
            background-size: 400% 100% !important;
            -webkit-background-clip: text !important;
            -webkit-text-fill-color: transparent !important;
            background-clip: text !important;
            font-weight: 300 !important;
            letter-spacing: 0.05em !important;
            text-shadow: 
                0 0 15px rgba(0, 191, 255, 1),
                0 0 30px rgba(0, 191, 255, 0.8),
                0 0 45px rgba(0, 191, 255, 0.6),
                0 0 60px rgba(0, 191, 255, 0.4) !important;
            animation: 
                ultimateGradientFlow 6s ease-in-out infinite,
                neonPulse 3s ease-in-out infinite,
                holographicShimmer 8s linear infinite !important;
            position: relative !important;
            display: inline-block !important;
            filter: brightness(1.8) contrast(1.3) !important;
            padding: 0 !important;
            margin: 0 !important;
            border: none !important;
            border-radius: 0 !important;
            box-shadow: none !important;
            backdrop-filter: none !important;
            -webkit-backdrop-filter: none !important;
        }
        
        .ultimate-neon-header::before {
            display: none !important;
        }
        
        .apple-clean-text {
            color: #FFFFFF !important;
            font-weight: 300 !important;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
            letter-spacing: 0.025em !important;
            line-height: 1.6 !important;
        }
        
        .apple-nav-link {
            color: #FFFFFF !important;
            font-weight: 300 !important;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
            position: relative !important;
        }
        
        .apple-nav-link:hover {
            color: #FFFFFF !important;
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.3) !important;
            transform: translateY(-1px) !important;
        }
        
        .apple-nav-link::after {
            content: '' !important;
            position: absolute !important;
            bottom: -2px !important;
            left: 50% !important;
            width: 0 !important;
            height: 1px !important;
            background: linear-gradient(90deg, transparent, #FFFFFF, transparent) !important;
            transition: all 0.3s ease !important;
            transform: translateX(-50%) !important;
        }
        
        .apple-nav-link:hover::after {
            width: 100% !important;
        }
        
        @keyframes liquidMetal {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        @keyframes breathe {
            0%, 100% { filter: drop-shadow(0 2px 4px rgba(0, 191, 255, 0.1)); }
            50% { filter: drop-shadow(0 2px 8px rgba(0, 191, 255, 0.2)); }
        }
        
        /* üçé APPLE CLEAN BUTTONS */
        .btn-primary,
        .btn-liquid,
        .liquid-btn {
            background: linear-gradient(135deg, rgba(0, 191, 255, 0.1) 0%, rgba(30, 144, 255, 0.1) 100%) !important;
            backdrop-filter: blur(20px) !important;
            color: #FFFFFF !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            box-shadow: none !important;
            text-shadow: none !important;
            font-weight: 300 !important;
            letter-spacing: 0.025em !important;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
        }
        
        .btn-primary:hover,
        .liquid-btn:hover {
            background: linear-gradient(135deg, rgba(0, 191, 255, 0.2) 0%, rgba(30, 144, 255, 0.2) 100%) !important;
            border: 1px solid rgba(255, 255, 255, 0.3) !important;
            box-shadow: none !important;
            transform: translateY(-2px) !important;
        }
        
        /* üî• SUBTLE ELECTRIC BLUE AVATAR GLOW */
        .profile-photo,
        .profile-image-futuristic img,
        .hologram-container img {
            border: 3px solid rgba(0, 191, 255, 0.6) !important;
            box-shadow: 0 0 30px rgba(0, 191, 255, 0.4), 0 0 60px rgba(30, 144, 255, 0.2) !important;
            filter: drop-shadow(0 0 15px rgba(0, 191, 255, 0.3)) !important;
        }
        
        .hologram-ring {
            border-color: rgba(0, 191, 255, 0.4) !important;
            box-shadow: 0 0 10px rgba(0, 191, 255, 0.3) !important;
        }
        
        /* üçé APPLE CLEAN ICONS */
        .infographic-icon i,
        .contact-icon i,
        .fas,
        .fab {
            color: #00BFFF !important;
            text-shadow: none !important;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
        }
        
        .infographic-icon:hover i,
        .contact-icon:hover i {
            color: #FFFFFF !important;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
            transform: translateY(-2px) !important;
        }
        
        /* üçé APPLE CLEAN ALL BUTTONS */
        .btn-secondary,
        .btn-holographic,
        button,
        [onclick] {
            background: linear-gradient(135deg, rgba(0, 191, 255, 0.1) 0%, rgba(30, 144, 255, 0.1) 100%) !important;
            backdrop-filter: blur(20px) !important;
            color: #FFFFFF !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            box-shadow: none !important;
            font-weight: 300 !important;
            letter-spacing: 0.025em !important;
        }
        
        .btn-secondary:hover,
        .btn-holographic:hover,
        button:hover {
            background: linear-gradient(135deg, rgba(0, 191, 255, 0.2) 0%, rgba(30, 144, 255, 0.2) 100%) !important;
            border: 1px solid rgba(255, 255, 255, 0.3) !important;
            box-shadow: none !important;
            transform: translateY(-2px) !important;
        }
        
        /* üçé APPLE CLEAN CARDS */
        .contact-card,
        .infographic-card {
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            box-shadow: none !important;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.02) 100%) !important;
            backdrop-filter: blur(20px) !important;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
        }
        
        .contact-card:hover,
        .infographic-card:hover {
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.04) 100%) !important;
            box-shadow: none !important;
            transform: translateY(-4px) !important;
        }
        
        /* üî• ELECTRIC BLUE VIDEO CONTROLS */
        .custom-video-controls,
        .video-controls-overlay,
        .play-button,
        .volume-control,
        .seek-bar {
            background: linear-gradient(135deg, rgba(0, 191, 255, 0.2) 0%, rgba(30, 144, 255, 0.1) 100%) !important;
            border: 1px solid #00BFFF !important;
            box-shadow: 0 0 15px rgba(0, 191, 255, 0.3) !important;
        }
        
        .play-button:hover,
        .volume-control:hover {
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.3) 0%, rgba(0, 191, 255, 0.2) 100%) !important;
            box-shadow: 0 0 25px rgba(0, 255, 255, 0.5) !important;
        }
        
        /* üî• FORCE ALL REMAINING ELEMENTS */
        .glass-card,
        .hero-visual {
            border-color: #00BFFF !important;
            box-shadow: 0 0 20px rgba(0, 191, 255, 0.2) !important;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Disable old script.js that conflicts with new cosmic background -->
    <!-- <script src="script.js" defer></script> -->
    <!-- React and TailwindCSS for ultra-modern portfolio -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'fade-in': 'fadeIn 0.8s ease-out',
                        'slide-up': 'slideUp 0.6s ease-out',
                        'scale-in': 'scaleIn 0.5s ease-out',
                        'glow-pulse': 'glowPulse 2s ease-in-out infinite',
                        'float': 'float 3s ease-in-out infinite',
                        'letter-animation': 'letterAnimation 0.8s ease-out forwards',
                        'slide-in-left': 'slideInLeft 0.6s ease-out',
                        'slide-in-right': 'slideInRight 0.6s ease-out',
                        'scale-up': 'scaleUp 0.4s ease-out',
                        'blur-in': 'blurIn 0.5s ease-out',
                        'dot-pulse': 'dotPulse 1.5s ease-in-out infinite',
                        'controls-fade': 'controlsFade 0.3s ease-out',
                        'neon-glow': 'neonGlow 2s ease-in-out infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        slideUp: {
                            '0%': { opacity: '0', transform: 'translateY(40px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        scaleIn: {
                            '0%': { opacity: '0', transform: 'scale(0.8)' },
                            '100%': { opacity: '1', transform: 'scale(1)' }
                        },
                        glowPulse: {
                            '0%, 100%': { boxShadow: '0 0 20px rgba(0, 242, 254, 0.5)' },
                            '50%': { boxShadow: '0 0 40px rgba(0, 242, 254, 0.8)' }
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-10px)' }
                        },
                        letterAnimation: {
                            '0%': { opacity: '0', transform: 'translateY(30px) rotateX(90deg)' },
                            '100%': { opacity: '1', transform: 'translateY(0) rotateX(0deg)' }
                        },
                        slideInLeft: {
                            '0%': { opacity: '0', transform: 'translateX(-50px)' },
                            '100%': { opacity: '1', transform: 'translateX(0)' }
                        },
                        slideInRight: {
                            '0%': { opacity: '0', transform: 'translateX(50px)' },
                            '100%': { opacity: '1', transform: 'translateX(0)' }
                        },
                        scaleUp: {
                            '0%': { transform: 'scale(1)' },
                            '100%': { transform: 'scale(1.05)' }
                        },
                        blurIn: {
                            '0%': { filter: 'blur(10px)', opacity: '0' },
                            '100%': { filter: 'blur(0px)', opacity: '1' }
                        },
                        dotPulse: {
                            '0%, 100%': { transform: 'scale(1)', opacity: '0.6' },
                            '50%': { transform: 'scale(1.2)', opacity: '1' }
                        },
                        controlsFade: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        neonGlow: {
                            '0%, 100%': { 
                                textShadow: '0 0 5px #00f2fe, 0 0 10px #00f2fe, 0 0 15px #00f2fe, 0 0 20px #00f2fe',
                                filter: 'drop-shadow(0 0 10px #00f2fe)'
                            },
                            '50%': { 
                                textShadow: '0 0 10px #00f2fe, 0 0 20px #00f2fe, 0 0 30px #00f2fe, 0 0 40px #00f2fe',
                                filter: 'drop-shadow(0 0 20px #00f2fe)'
                            }
                        }
                    }
                }
            }
        }
    </script>
    <!-- Minimalist background overrides: disable cosmic layers and apply elegant gradients -->
    <style id="minimalist-background-overrides">
        body {
            background:
                radial-gradient(1200px 800px at 75% -10%, rgba(14,165,233,0.10), rgba(14,165,233,0) 40%),
                radial-gradient(900px 700px at -10% 70%, rgba(139,92,246,0.08), rgba(139,92,246,0) 45%),
                linear-gradient(180deg, #0b0f1a 0%, #0a0f1c 50%, #0a0e17 100%) !important;
            background-attachment: fixed !important;
            background-image: initial !important; /* ensure gradients win over earlier resets */
        }
        /* Hard-disable legacy cosmic background layers */
        #cosmic-foundation, #cosmic-foundation::before, #cosmic-foundation::after,
        .cosmos-container, .hero-particles, #global-particles-bg, .parallax-bg,
        #hero-video-cosmos-bg, .particles-canvas, #particle-canvas {
            display: none !important;
            content: none !important;
            animation: none !important;
            opacity: 0 !important;
        }
        /* Enforce z-index stacking for our new background layers */
        body::before { z-index: -1 !important; }
        .bg-aurora-layer { z-index: 0 !important; }
        #neon-bg-canvas { z-index: 0 !important; }
        main, section, header, footer, nav, .nav-glass, #portfolio-root { position: relative; z-index: 1; }
    </style>
    <!-- removed legacy cosmic background styles to allow vibrant/glass background to show fully -->
    <!--
    <style>
        /* PERFEKCYJNE T≈ÅO KOSMICZNE - FUNDAMENTY */
        * {
            box-sizing: border-box;
        }
        
        body, html {
            background: #000000 !important;
            overflow-x: hidden !important;
            margin: 0 !important;
            padding: 0 !important;
        }
        
                /* üåå PODSTAWOWE CZARNE T≈ÅO KOSMICZNE - ULTRA FORCE üåå */
        html {
            background: #000000 !important;
            margin: 0 !important;
            padding: 0 !important;
        }
        
        body {
            background: #000000 !important;
            background-color: #000000 !important;
            background-image: none !important;
            background-attachment: fixed !important;
            min-height: 100vh !important;
            overflow-x: hidden !important;
            margin: 0 !important;
            padding: 0 !important;
        }
        
        /* üö® NUCLEAR OPTION - FORCE ALL ELEMENTS TO BE TRANSPARENT */
        * {
            background-color: transparent !important;
        }
        
        /* üö® EXCEPTIONS FOR BACKGROUND ELEMENTS */
        html, body, #cosmic-foundation {
            background-color: #000000 !important;
        }
        
        /* üö® FORCE NAV TO BE TRANSPARENT */
        .nav-glass {
            background-color: transparent !important;
            background: transparent !important;
            backdrop-filter: none !important;
        }
        
        /* üö® FORCE ALL SECTIONS TO BE TRANSPARENT */
        section, main, div {
            background-color: transparent !important;
            background: transparent !important;
        }
        

        
                /* üåå DYNAMICZNE CZARNE T≈ÅO KOSMICZNE Z GWIAZDOZBIORAMI */
        #cosmic-foundation {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100vw !important;
            height: 100vh !important;
            z-index: -1 !important;
            pointer-events: none !important;
            background: #000000 !important;
            overflow: hidden !important;
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }
        
        /* üåü BIA≈ÅE GWIAZDOZBIORY - MOVING CONSTELLATIONS */
        #cosmic-foundation::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 200%;
            height: 200%;
            background: 
                /* Gwiazdozbi√≥r 1 - Wielka Nied≈∫wiedzica */
                radial-gradient(2px 2px at 15% 20%, #ffffff, transparent),
                radial-gradient(1px 1px at 18% 18%, #ffffff, transparent),
                radial-gradient(1px 1px at 22% 22%, #ffffff, transparent),
                radial-gradient(2px 2px at 25% 25%, #ffffff, transparent),
                radial-gradient(1px 1px at 28% 23%, #ffffff, transparent),
                radial-gradient(2px 2px at 32% 26%, #ffffff, transparent),
                radial-gradient(1px 1px at 35% 28%, #ffffff, transparent),
                
                /* Gwiazdozbi√≥r 2 - Orion */
                radial-gradient(2px 2px at 70% 30%, #ffffff, transparent),
                radial-gradient(1px 1px at 73% 28%, #ffffff, transparent),
                radial-gradient(3px 3px at 75% 35%, #ffffff, transparent),
                radial-gradient(1px 1px at 72% 38%, #ffffff, transparent),
                radial-gradient(2px 2px at 77% 40%, #ffffff, transparent),
                
                /* Gwiazdozbi√≥r 3 - Kasiopea */
                radial-gradient(1px 1px at 80% 70%, #ffffff, transparent),
                radial-gradient(2px 2px at 83% 68%, #ffffff, transparent),
                radial-gradient(1px 1px at 86% 72%, #ffffff, transparent),
                radial-gradient(2px 2px at 89% 69%, #ffffff, transparent),
                radial-gradient(1px 1px at 92% 73%, #ffffff, transparent),
                
                /* Gwiazdozbi√≥r 4 - Ma≈Çy W√≥z */
                radial-gradient(1px 1px at 40% 80%, #ffffff, transparent),
                radial-gradient(2px 2px at 43% 78%, #ffffff, transparent),
                radial-gradient(1px 1px at 46% 82%, #ffffff, transparent),
                radial-gradient(1px 1px at 49% 79%, #ffffff, transparent),
                
                /* Pojedyncze gwiazdy */
                radial-gradient(1px 1px at 10% 10%, #ffffff, transparent),
                radial-gradient(1px 1px at 60% 15%, #ffffff, transparent),
                radial-gradient(2px 2px at 30% 60%, #ffffff, transparent),
                radial-gradient(1px 1px at 85% 40%, #ffffff, transparent),
                radial-gradient(1px 1px at 20% 90%, #ffffff, transparent),
                radial-gradient(2px 2px at 90% 10%, #ffffff, transparent);
            
            background-size: 100% 100%;
            animation: constellationsMove 60s linear infinite;
            opacity: 0.9;
        }
        
        /* üí´ INNOWACYJNE PARTICLES */
        #cosmic-foundation::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 300%;
            height: 300%;
            background: 
                /* Ma≈Çe particles */
                radial-gradient(1px 1px at 10% 20%, rgba(255,255,255,0.6), transparent),
                radial-gradient(1px 1px at 25% 35%, rgba(255,255,255,0.4), transparent),
                radial-gradient(1px 1px at 40% 50%, rgba(255,255,255,0.7), transparent),
                radial-gradient(1px 1px at 55% 65%, rgba(255,255,255,0.3), transparent),
                radial-gradient(1px 1px at 70% 80%, rgba(255,255,255,0.5), transparent),
                radial-gradient(1px 1px at 85% 15%, rgba(255,255,255,0.6), transparent),
                radial-gradient(1px 1px at 15% 75%, rgba(255,255,255,0.4), transparent),
                radial-gradient(1px 1px at 60% 30%, rgba(255,255,255,0.8), transparent),
                radial-gradient(1px 1px at 80% 60%, rgba(255,255,255,0.3), transparent),
                radial-gradient(1px 1px at 30% 90%, rgba(255,255,255,0.6), transparent),
                
                /* ≈örednie particles */
                radial-gradient(2px 2px at 20% 40%, rgba(255,255,255,0.3), transparent),
                radial-gradient(2px 2px at 75% 25%, rgba(255,255,255,0.4), transparent),
                radial-gradient(2px 2px at 45% 70%, rgba(255,255,255,0.2), transparent),
                radial-gradient(2px 2px at 90% 45%, rgba(255,255,255,0.5), transparent),
                
                /* Du≈ºe particles - ≈õwietliste */
                radial-gradient(3px 3px at 35% 25%, rgba(255,255,255,0.6), rgba(255,255,255,0.1) 50%, transparent),
                radial-gradient(3px 3px at 65% 75%, rgba(255,255,255,0.4), rgba(255,255,255,0.1) 50%, transparent);
            
            background-size: 150% 150%;
            animation: particlesFloat 40s linear infinite reverse;
            opacity: 0.7;
        }
        
        /* üåü ANIMACJE KOSMICZNE */
        @keyframes constellationsMove {
            0% { 
                transform: translateX(0) translateY(0) rotate(0deg);
            }
            25% { 
                transform: translateX(-10px) translateY(-5px) rotate(0.5deg);
            }
            50% { 
                transform: translateX(-20px) translateY(-10px) rotate(1deg);
            }
            75% { 
                transform: translateX(-30px) translateY(-15px) rotate(0.5deg);
            }
            100% { 
                transform: translateX(-40px) translateY(-20px) rotate(0deg);
            }
        }
        
        @keyframes particlesFloat {
            0% { 
                transform: translateX(0) translateY(0) scale(1);
                opacity: 0.7;
            }
            33% { 
                transform: translateX(-15px) translateY(-25px) scale(1.1);
                opacity: 0.5;
            }
            66% { 
                transform: translateX(-30px) translateY(-50px) scale(0.9);
                opacity: 0.8;
            }
            100% { 
                transform: translateX(-45px) translateY(-75px) scale(1);
                opacity: 0.7;
            }
        }
        

        
        /* ‚ú® TWINKLING STARS EFFECT */
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }
        
        /* Dodaj twinkling do niekt√≥rych gwiazd */
        #cosmic-foundation::before {
            animation: constellationsMove 60s linear infinite, twinkle 3s ease-in-out infinite alternate;
        }
        
        /* üåå SCROLL PARALLAX EFFECTS */
        .cosmic-parallax-slow {
            transform: translateY(calc(var(--scroll-y, 0) * -0.5px));
        }
        
        .cosmic-parallax-fast {
            transform: translateY(calc(var(--scroll-y, 0) * -1px));
        }
        
        /* üì± RESPONSYWNO≈öƒÜ - OPTYMALIZACJA MOBILE */
        @media (max-width: 768px) {
            #cosmic-foundation::before {
                animation-duration: 80s; /* Wolniejsze na mobile */
            }
            #cosmic-foundation::after {
                animation-duration: 60s;
                opacity: 0.5; /* Mniej particles na mobile */
            }
        }
        
        @media (max-width: 480px) {
            #cosmic-foundation::before {
                animation-duration: 100s;
                opacity: 0.7;
            }
            #cosmic-foundation::after {
                opacity: 0.4;
            }
        }
        
        /* üéØ HOVER INTERACTIONS */
        @media (hover: hover) {
            main:hover #cosmic-foundation::before {
                animation-play-state: paused;
            }
        }
        

        
        /* üåü ULTIMATE ANIMATION KEYFRAMES */
        @keyframes ultimateGradientFlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        @keyframes neonPulse {
            0%, 100% { 
                text-shadow: 
                    0 0 10px rgba(0, 191, 255, 0.8),
                    0 0 20px rgba(0, 191, 255, 0.6),
                    0 0 40px rgba(0, 191, 255, 0.4);
            }
            50% { 
                text-shadow: 
                    0 0 20px rgba(0, 191, 255, 1),
                    0 0 40px rgba(0, 191, 255, 0.8),
                    0 0 80px rgba(0, 191, 255, 0.6),
                    0 0 160px rgba(0, 191, 255, 0.4);
            }
        }
        
        @keyframes holographicShimmer {
            0% { filter: brightness(1.2) contrast(1.1) hue-rotate(0deg); }
            25% { filter: brightness(1.3) contrast(1.2) hue-rotate(10deg); }
            50% { filter: brightness(1.4) contrast(1.3) hue-rotate(20deg); }
            75% { filter: brightness(1.3) contrast(1.2) hue-rotate(10deg); }
            100% { filter: brightness(1.2) contrast(1.1) hue-rotate(0deg); }
        }
        
        @keyframes holographicFlicker {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }
        
        /* üéØ ULTRA-STABLE VIDEO PLAY BUTTON - ABSOLUTELY NO ESCAPING! */
        .video-play-button-stable {
            position: absolute !important;
            top: 50% !important;
            left: 50% !important;
            width: 100px !important;
            height: 100px !important;
            margin-top: -50px !important;
            margin-left: -50px !important;
            border-radius: 50% !important;
            background: rgba(0, 0, 0, 0.8) !important;
            backdrop-filter: blur(15px) !important;
            border: 2px solid rgba(0, 191, 255, 0.5) !important;
            z-index: 1000 !important;
            cursor: pointer !important;
            transition: background 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease !important;
            transform: none !important; /* FORCE NO TRANSFORM */
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            font-size: 24px !important;
            color: white !important;
            outline: none !important;
            /* EXTRA STABILITY */
            will-change: background, border-color, box-shadow !important;
        }
        
        .video-play-button-stable:hover {
            background: rgba(0, 191, 255, 0.3) !important;
            border-color: rgba(0, 191, 255, 0.8) !important;
            box-shadow: 0 0 30px rgba(0, 191, 255, 0.6) !important;
            transform: none !important; /* ABSOLUTELY NO TRANSFORM ON HOVER */
        }
        
        .video-play-button-stable:active {
            transform: none !important; /* ABSOLUTELY NO TRANSFORM ON CLICK */
            background: rgba(0, 191, 255, 0.5) !important;
            border-color: rgba(0, 191, 255, 1) !important;
        }
        
        /* ULTRA-FORCE: NO TRANSFORM ON ANY STATE */
        .video-play-button-stable,
        .video-play-button-stable:hover,
        .video-play-button-stable:active,
        .video-play-button-stable:focus,
        .video-play-button-stable:before,
        .video-play-button-stable:after {
            transform: none !important;
            transition-property: background, border-color, box-shadow !important;
            transition-duration: 0.3s !important;
            transition-timing-function: ease !important;
        }
        
        /* NUCLEAR OPTION - FORCE POSITIONING */
        .video-play-button-stable {
            top: 50% !important;
            left: 50% !important;
            margin-top: -50px !important;
            margin-left: -50px !important;
            transform: none !important;
        }
        
        /* ULTIMATE ANTI-LATANIE PROTECTION */
        button.video-play-button-stable {
            transform: none !important;
            animation: none !important;
        }
        button.video-play-button-stable * {
            transform: none !important;
            animation: none !important;
        }
        
        /* üéØ HERO PLAY BUTTON - IDENTYCZNY JAK W PORTFOLIO */
        #hero-play-btn.video-play-button-stable {
            position: absolute !important;
            top: 50% !important;
            left: 50% !important;
            margin-top: -50px !important;
            margin-left: -50px !important;
            width: 100px !important;
            height: 100px !important;
            border-radius: 50% !important;
            background: rgba(0, 0, 0, 0.8) !important;
            backdrop-filter: blur(15px) !important;
            border: 2px solid rgba(0, 191, 255, 0.5) !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            cursor: pointer !important;
            transition: background 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease !important;
            transform: none !important;
            z-index: 12 !important;
        }
        
        #hero-play-btn.video-play-button-stable:hover {
            background: rgba(0, 191, 255, 0.3) !important;
            border-color: rgba(0, 191, 255, 0.8) !important;
            box-shadow: 0 0 30px rgba(0, 191, 255, 0.6) !important;
            transform: none !important;
        }
        
        /* üé¨ PORTFOLIO PERFECT FUNCTIONALITY */
        .portfolio-item:not(.active) {
            filter: blur(4px) brightness(0.6) !important;
            opacity: 0.7 !important;
            transform: scale(0.95) !important;
            transition: all 0.5s ease !important;
        }
        
        .portfolio-item.active {
            filter: none !important;
            opacity: 1 !important;
            transform: scale(1) !important;
            z-index: 100 !important;
        }
        
        .portfolio-item {
            overflow: hidden !important;
            border-radius: 20px !important;
        }
        
        /* Multi-layer Canvas System */
        #cosmic-webgl-canvas,
        #cosmic-particles-canvas,
        #cosmic-constellations-canvas {
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100% !important;
            display: block !important;
            opacity: 1 !important;
            visibility: visible !important;
        }
        
        #cosmic-webgl-canvas { z-index: -9 !important; }
        #cosmic-particles-canvas { z-index: -8 !important; }
        #cosmic-constellations-canvas { z-index: -7 !important; }
        
        /* Gradient Layers */
        #cosmic-gradients-layer {
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100% !important;
            z-index: -6 !important;
            background: 
                radial-gradient(circle at 20% 30%, rgba(75, 0, 130, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(25, 25, 112, 0.2) 0%, transparent 50%),
                linear-gradient(135deg, rgba(0, 0, 40, 0.4) 0%, rgba(0, 0, 0, 0.8) 100%) !important;
        }
        
        /* Nebulae Layer */
        #cosmic-nebulae-layer {
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100% !important;
            z-index: -5 !important;
            background: 
                radial-gradient(ellipse 800px 300px at 10% 40%, rgba(138, 43, 226, 0.1) 0%, transparent 70%),
                radial-gradient(ellipse 600px 200px at 90% 80%, rgba(72, 61, 139, 0.08) 0%, transparent 70%) !important;
            animation: nebulaeFloat 60s ease-in-out infinite !important;
        }
        
        @keyframes nebulaeFloat {
            0%, 100% { 
                transform: translate(0, 0) scale(1) !important;
                opacity: 0.3 !important;
            }
            50% { 
                transform: translate(-20px, -10px) scale(1.05) !important;
                opacity: 0.5 !important;
            }
        }
        
        .content-wrapper {
            position: relative !important;
            z-index: 1 !important;
            background: transparent !important;
        }
        
        /* ‚úÖ VERIFIED VISIBILITY SETTINGS - MERGED WITH MAIN DEFINITION */
        
        /* üóëÔ∏è NO BORDERS, NO SHADOWS, NO OVERLAY - CLEAN COSMIC */
        .content-wrapper,
        main,
        section,
        .portfolio-section,
        .contact-section,
        .hero-section,
        #hero,
        #about,
        #portfolio,
        #contact,
        .hero-content,
        .about-content,
        .portfolio-content,
        .contact-content {
            background: transparent !important;
            background-color: transparent !important;
            box-shadow: none !important;
            border: none !important;
            border-radius: 0 !important;
            backdrop-filter: none !important;
            -webkit-backdrop-filter: none !important;
        }
        
        /* üåå NUCLEAR TRANSPARENCY - WSZYSTKO PRZEZROCZYSTE */
        html, body {
            margin: 0 !important;
            padding: 0 !important;
            border: none !important;
            box-shadow: none !important;
        }
        
        .content-wrapper,
        main,
        section,
        .portfolio-section,
        .contact-section,
        .hero-section,
        #hero,
        #about,
        #portfolio,
        #contact,
        .hero-content,
        .about-content,
        .portfolio-content,
        .contact-content {
            background: transparent !important;
            background-color: transparent !important;
            border: none !important;
            box-shadow: none !important;
        }
        
        /* NAVIGACJA MUSI BYƒÜ WIDOCZNA */
        .nav-glass {
            z-index: 9999 !important;
            background: rgba(0, 0, 0, 0.4) !important;
            backdrop-filter: blur(10px) !important;
            pointer-events: auto !important;
        }
        
        .nav-link {
            pointer-events: auto !important;
            cursor: pointer !important;
        }
        
        /* VISIONARY KEYFRAMES */
        @keyframes stellar-pulse {
            0%, 100% { opacity: 0.6; filter: brightness(1); }
            50% { opacity: 1; filter: brightness(1.3); }
        }
        
        @keyframes fallbackPulse {
            0%, 100% { background-position: 0% 50%; }
            25% { background-position: 100% 50%; }
            50% { background-position: 50% 100%; }
            75% { background-position: 0% 50%; }
        }
        
        @keyframes constellation-drift {
            0% { transform: translateX(0) translateY(0) rotate(0deg); }
            25% { transform: translateX(20px) translateY(-15px) rotate(0.5deg); }
            50% { transform: translateX(10px) translateY(-30px) rotate(1deg); }
            75% { transform: translateX(-10px) translateY(-15px) rotate(0.5deg); }
            100% { transform: translateX(0) translateY(0) rotate(0deg); }
        }
        
        @keyframes quantum-flow {
            0% { stroke-dashoffset: 0; }
            100% { stroke-dashoffset: 100; }
        }
        
        @keyframes nebula-drift {
            0% { transform: translateX(-10px) rotate(0deg); opacity: 0.05; }
            50% { transform: translateX(10px) rotate(0.2deg); opacity: 0.15; }
            100% { transform: translateX(-10px) rotate(0deg); opacity: 0.05; }
        }
        
        /* Ultra-modern portfolio styles */
        .portfolio-container {
            background: transparent !important;
            min-height: 100vh;
            position: relative;
            overflow: hidden;
        }
        
        .portfolio-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.2) 0%, transparent 50%);
            animation: float 20s ease-in-out infinite;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .video-card {
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            border-radius: 20px;
        }
        
        .video-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }
        
        .video-card.active {
            transform: scale(1.15);
            z-index: 20;
            box-shadow: 
                0 0 60px rgba(0, 242, 254, 0.4),
                0 25px 80px rgba(0, 0, 0, 0.6);
        }
        
        .video-card.blurred {
            filter: blur(15px) brightness(0.3) saturate(0.5);
            transform: scale(0.85);
            opacity: 0.5;
            pointer-events: all;
        }
        
        /* Enhanced video scaling */
        .video-card video {
            width: 100%;
            height: 100%;
            object-fit: contain;
            background: #000;
        }
        
        /* Gradient animation */
        @keyframes gradientSlide {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }
        
        .custom-arrow {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            z-index: 30;
        }
        
        .custom-arrow::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transform: translateX(-100%);
            transition: transform 0.4s ease;
        }
        
        .custom-arrow:hover::before {
            transform: translateX(100%);
        }
        
        .custom-arrow:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: scale(1.15);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }
        
        .custom-arrow:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            transform: scale(0.9);
        }
        
        .dot-indicator {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            margin: 0 6px;
        }
        
        .dot-indicator.active {
            background: linear-gradient(45deg, #00f2fe, #4facfe);
            transform: scale(1.4);
            box-shadow: 0 0 25px rgba(0, 242, 254, 0.6);
        }
        
        .dot-indicator:hover {
            background: rgba(255, 255, 255, 0.6);
            transform: scale(1.3);
        }
        
        .portfolio-title {
            background: linear-gradient(45deg, #00f2fe, #4facfe, #00f2fe);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: neonGlow 3s ease-in-out infinite;
            font-weight: 900;
            letter-spacing: 0.15em;
        }
        
        .letter-animation {
            display: inline-block;
            animation: letterAnimation 1s ease-out forwards;
            opacity: 0;
        }
        
        .letter-animation:nth-child(1) { animation-delay: 0.1s; }
        .letter-animation:nth-child(2) { animation-delay: 0.2s; }
        .letter-animation:nth-child(3) { animation-delay: 0.3s; }
        .letter-animation:nth-child(4) { animation-delay: 0.4s; }
        .letter-animation:nth-child(5) { animation-delay: 0.5s; }
        .letter-animation:nth-child(6) { animation-delay: 0.6s; }
        .letter-animation:nth-child(7) { animation-delay: 0.7s; }
        .letter-animation:nth-child(8) { animation-delay: 0.8s; }
        .letter-animation:nth-child(9) { animation-delay: 0.9s; }
        
        .video-slider {
            scroll-behavior: smooth;
            scrollbar-width: none;
            -ms-overflow-style: none;
            scroll-snap-type: x mandatory;
        }
        
        .video-slider::-webkit-scrollbar {
            display: none;
        }
        
        .video-slider-item {
            scroll-snap-align: center;
        }
        
        /* Genius-Level Video Controls */
        .custom-video-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            gap: 16px;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(20px) saturate(180%);
            border-radius: 50px;
            padding: 12px 20px;
            opacity: 0;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 40;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 
                0 10px 40px rgba(0, 0, 0, 0.3),
                inset 0 1px 1px rgba(255, 255, 255, 0.1);
        }
        
        .video-card.active:hover .custom-video-controls {
            opacity: 1;
            transform: translateX(-50%) translateY(-5px);
        }
        
        .control-button {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            font-size: 14px;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            position: relative;
            overflow: hidden;
        }
        
        .control-button::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at center, rgba(255, 255, 255, 0.2), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .control-button:hover::before {
            opacity: 1;
        }
        
        .control-button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
            box-shadow: 0 5px 20px rgba(0, 242, 254, 0.3);
        }
        
        .control-button:active {
            transform: scale(0.95);
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
            color: white;
            position: relative;
        }
        
        .volume-slider {
            width: 60px;
            height: 3px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 1.5px;
            outline: none;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .volume-slider:hover {
            height: 4px;
        }
        
        .volume-slider::-webkit-slider-thumb {
            appearance: none;
            width: 12px;
            height: 12px;
            background: linear-gradient(45deg, #00f2fe, #4facfe);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 
                0 2px 10px rgba(0, 242, 254, 0.5),
                0 0 20px rgba(0, 242, 254, 0.3);
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.9);
        }
        
        .volume-slider::-webkit-slider-thumb:hover {
            transform: scale(1.3);
            box-shadow: 
                0 3px 15px rgba(0, 242, 254, 0.7),
                0 0 30px rgba(0, 242, 254, 0.5);
        }
        
        .volume-slider::-moz-range-thumb {
            width: 12px;
            height: 12px;
            background: linear-gradient(45deg, #00f2fe, #4facfe);
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid rgba(255, 255, 255, 0.9);
            box-shadow: 
                0 2px 10px rgba(0, 242, 254, 0.5),
                0 0 20px rgba(0, 242, 254, 0.3);
            transition: all 0.3s ease;
        }
        
        .volume-slider::-moz-range-thumb:hover {
            transform: scale(1.3);
            box-shadow: 
                0 3px 15px rgba(0, 242, 254, 0.7),
                0 0 30px rgba(0, 242, 254, 0.5);
        }
        
        .slider-container {
            position: relative;
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 100px;
        }
        
        .slider-wrapper {
            position: relative;
            overflow: hidden;
            border-radius: 25px;
        }
        
        .slider-content {
            display: flex;
            gap: 40px;
            padding: 40px 0;
            align-items: center;
        }
        
        .video-wrapper {
            flex: 0 0 auto;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .video-wrapper.active {
            transform: scale(1.15);
        }
        
        .video-wrapper.blurred {
            transform: scale(0.85);
        }
        
        @media (max-width: 768px) {
            .custom-arrow {
                width: 60px;
                height: 60px;
            }
            
            .video-card.active {
                transform: scale(1.1);
            }
            
            .custom-video-controls {
                padding: 12px 20px;
                gap: 15px;
            }
            
            .volume-slider {
                width: 60px;
            }
            
            .slider-container {
                padding: 0 60px;
            }
            
            .slider-content {
                gap: 25px;
                padding: 30px 0;
            }
        }
        
        @media (max-width: 480px) {
            .slider-container {
                padding: 0 40px;
            }
            
            .slider-content {
                gap: 20px;
                padding: 25px 0;
            }
            
            .custom-arrow {
                width: 50px;
                height: 50px;
            }
        }
    </style>
    -->
    <!-- Final override to ensure minimalist background wins the cascade -->
    <style id="minimalist-background-final">
        body {
            background:
                radial-gradient(1200px 800px at 75% -10%, rgba(14,165,233,0.10), rgba(14,165,233,0) 40%),
                radial-gradient(900px 700px at -10% 70%, rgba(139,92,246,0.08), rgba(139,92,246,0) 45%),
                linear-gradient(180deg, #0b0f1a 0%, #0a0f1c 50%, #0a0e17 100%) !important;
            background-attachment: fixed !important;
            background-image: initial !important;
        }
        #cosmic-foundation, #cosmic-foundation::before, #cosmic-foundation::after,
        .cosmos-container, .hero-particles, #global-particles-bg, .parallax-bg,
        #hero-video-cosmos-bg, .particles-canvas, #particle-canvas {
            display: none !important;
            content: none !important;
            animation: none !important;
            opacity: 0 !important;
        }
    </style>
</head>
<body class="bg-vibrant-glass">
    <!-- Background stack: base gradients + mesh + aurora + neon particles -->
    <div class="hub-gradient-layer" aria-hidden="true"></div>
    <canvas id="neon-bg-canvas" aria-hidden="true"></canvas>
    <div class="bg-aurora-layer" aria-hidden="true">
        <div class="aurora aurora-1"></div>
        <div class="aurora aurora-2"></div>
        <div class="aurora aurora-3"></div>
        <div class="aurora aurora-4"></div>
        <div class="aurora aurora-5"></div>
        <div class="aurora aurora-6"></div>
        <div class="grid-overlay"></div>
    </div>
    
    <!-- üå† KOSMICZNE T≈ÅO Z ANIMACJAMI -->
    <div class="cosmos-container" style="display: none;">
        <canvas id="cosmic-canvas" class="particles-canvas"></canvas>
        <canvas id="constellation-canvas" class="particles-canvas"></canvas>
        <canvas id="particle-canvas" class="particles-canvas"></canvas>
    </div>

    <!-- WSZYSTKIE SEKCJE STRONY W CONTENT WRAPPER -->
    <main class="content-wrapper">
    <nav class="nav-glass">
        <div class="nav-container">
            <div class="logo-liquid">
                    <span class="logo-text apple-clean-text">Patryk Bobrowski</span>
                <div class="logo-glow"></div>
            </div>
            <ul class="nav-menu">
                <li><a href="#hero" class="nav-link apple-nav-link">Start</a></li>
                <li><a href="#about" class="nav-link apple-nav-link">O mnie</a></li>
                <li><a href="#portfolio" class="nav-link apple-nav-link">Portfolio</a></li>
                <li><a href="#contact" class="nav-link apple-nav-link">Kontakt</a></li>
            </ul>
            <!-- hamburger usuniƒôty na ≈ºyczenie; menu zawsze widoczne w top barze -->
        </div>
    </nav>
        <section id="hero" class="hero-section">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title">
                        <span class="title-line apple-clean-text">Tworzƒô wizje</span>
                        <span class="title-line liquid-text apple-premium-header">z pikseli i algorytm√≥w</span>
                        <span class="title-line subtitle-animated apple-clean-text">filmy, grafiki i AI w harmonii kreatywno≈õci</span>
                    </h1>
                    <div class="hero-particles">
                        <canvas id="particle-canvas"></canvas>
                    </div>
                    <div class="hero-cta">
                        <button class="btn-primary liquid-btn" onclick="scrollToPortfolio()">
                            <span class="apple-clean-text">Zobacz moje prace</span>
                            <div class="btn-liquid"></div>
                        </button>
                        <button class="btn-secondary liquid-btn" onclick="scrollToContact()">
                            <span class="apple-clean-text">Kontakt</span>
                            <div class="btn-liquid"></div>
                        </button>
                    </div>
                </div>
                <div class="hero-visual">
                    <div class="video-bg-innovative" id="hero-video-bg-innovative">
                        <!-- Dynamiczne efekty t≈Ça pod video -->
                        <canvas id="hero-video-cosmos-bg"></canvas>
                    </div>
                    <div class="video-container-hero glow-innovative" id="hero-video-container" style="width: 100%; margin: 0; position: relative; border-radius: 40px; overflow: hidden; box-shadow: 0 0 120px 40px #00f2fe55, 0 20px 80px rgba(0,0,0,0.7); background: transparent; aspect-ratio: 16/9; max-width: 1200px; margin-left: auto; margin-right: 0;">
                        <video id="hero-video" preload="metadata" playsinline webkit-playsinline style="width: 100%; height: 100%; max-height: 95vh; border-radius: 40px; box-shadow: 0 0 120px 30px #00f2fe55; background: transparent; object-fit: cover; aspect-ratio: 16/9;" tabindex="0">
                            <source src="videos/reklama.mp4" type="video/mp4">
                            Twoja przeglƒÖdarka nie obs≈Çuguje odtwarzacza wideo.
                        </video>
                        
                        <!-- Modern Hero Video Controls -->
                        <div id="hero-controls" class="hero-video-controls" style="position: absolute; inset: 0; z-index: 10; opacity: 0; transition: opacity 0.3s ease;">
                            <!-- Play/Pause Button - CENTERED ON VIDEO -->
                            <button id="hero-play-btn" class="hero-play-button video-play-button-stable" style="position: absolute; top: 50%; left: 50%; margin-top: -50px; margin-left: -50px; width: 100px; height: 100px; border-radius: 50%; background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(15px); border: 2px solid rgba(0, 191, 255, 0.5); display: flex; align-items: center; justify-content: center; cursor: pointer; transition: background 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease; transform: none; z-index: 12;">
                                <i id="hero-play-icon" class="fas fa-play" style="color: white; font-size: 24px; margin-left: 4px;"></i>
                            </button>
                            
                            <!-- Volume Control -->
                            <div class="hero-volume-control" style="position: absolute; bottom: 80px; right: 20px; background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(10px); border-radius: 20px; padding: 8px 16px; display: flex; align-items: center; gap: 10px; z-index: 12;">
                                <i class="fas fa-volume-up" style="color: white; font-size: 14px;"></i>
                                <input id="hero-volume-slider" type="range" min="0" max="1" step="0.1" value="0.5" style="width: 80px; height: 4px; background: rgba(255,255,255,0.3); border-radius: 2px; outline: none; cursor: pointer;">
                            </div>
                            
                            <!-- Seek Bar -->
                            <div class="hero-seek-container" style="position: absolute; bottom: 0; left: 0; right: 0; padding: 20px; z-index: 12;">
                                <div class="hero-seek-bar" style="position: relative; width: 100%; height: 6px; background: rgba(255,255,255,0.3); border-radius: 3px; cursor: pointer;">
                                    <div id="hero-seek-progress" class="hero-seek-progress" style="position: absolute; top: 0; left: 0; height: 100%; background: linear-gradient(90deg, #00f2fe, #4facfe); border-radius: 3px; width: 0%; transition: width 0.1s ease;"></div>
                                    <div id="hero-seek-handle" class="hero-seek-handle" style="position: absolute; top: 50%; left: 0%; width: 16px; height: 16px; background: #00f2fe; border-radius: 50%; transform: translate(-50%, -50%); cursor: pointer; box-shadow: 0 2px 8px rgba(0,242,254,0.5);"></div>
                                </div>
                                <div class="hero-time-display" style="display: flex; justify-content: space-between; margin-top: 8px; color: white; font-size: 12px;">
                                    <span id="hero-current-time">0:00</span>
                                    <span id="hero-duration">0:00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="about" class="about-section">
            <div class="container">
                <div class="about-content-revolutionary">
                    <div class="about-visual-quantum">
                        <div class="profile-hologram">
                            <div class="hologram-container">
                                <div class="hologram-ring ring-1"></div>
                                <div class="hologram-ring ring-2"></div>
                                <div class="hologram-ring ring-3"></div>
                                <div class="profile-image-futuristic">
                                    <!-- Tutaj wstaw swoje zdjƒôcie sigmasior.jpg -->
                                    <img src="sigmasior.jpg" alt="Patryk Bobrowski" class="profile-photo" />
                                    <div class="neural-network">
                                        <canvas id="neural-canvas"></canvas>
                                    </div>
                                </div>
                                <div class="quantum-particles">
                                    <div class="particle"></div>
                                    <div class="particle"></div>
                                    <div class="particle"></div>
                                    <div class="particle"></div>
                                    <div class="particle"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="about-text-revolutionary">
                        <div class="about-description-pro" data-fulltext="Jestem m≈Çodym, pe≈Çnym energii monta≈ºystƒÖ i grafikiem komputerowym, z pasjƒÖ do sztucznej inteligencji, kt√≥ry o≈ºywi TwojƒÖ pracƒô i wyniesie jƒÖ na zupe≈Çnie nowy poziom. Sprawiƒô, ≈ºe Twoje materia≈Çy stanƒÖ siƒô wiralowymi rolkami na YouTube Shorts, Instagram Reels czy TikTok, przyciƒÖgajƒÖcymi uwagƒô i anga≈ºujƒÖcymi widz√≥w. Operujƒô Adobe Premiere Pro i Adobe After Effects, wykorzystujƒÖc automatyzacjƒô skryptami oraz zaawansowane techniki optymalizacji pod SEO, by Tw√≥j content zdobywa≈Ç szerokie zasiƒôgi i trwa≈Çe zainteresowanie w sieci. Je≈õli chcesz, aby Tw√≥j projekt by≈Ç dynamiczny, profesjonalny i wyr√≥≈ºnia≈Ç siƒô na tle konkurencji, zapraszam do wsp√≥≈Çpracy to razem stworzymy tre≈õci, kt√≥re zachwycƒÖ i poruszƒÖ TwojƒÖ spo≈Çeczno≈õƒá.">
                            <h1 class="greeting-massive apple-premium-header" data-text="Cze≈õƒá!">Cze≈õƒá!</h1>
                            <span class="apple-clean-text">Jestem m≈Çodym, pe≈Çnym energii monta≈ºystƒÖ i grafikiem komputerowym, z pasjƒÖ do sztucznej inteligencji, kt√≥ry o≈ºywi TwojƒÖ pracƒô i wyniesie jƒÖ na zupe≈Çnie nowy poziom. Sprawiƒô, ≈ºe Twoje materia≈Çy stanƒÖ siƒô wiralowymi rolkami na YouTube Shorts, Instagram Reels czy TikTok, przyciƒÖgajƒÖcymi uwagƒô i anga≈ºujƒÖcymi widz√≥w. Operujƒô Adobe Premiere Pro i Adobe After Effects, wykorzystujƒÖc automatyzacjƒô skryptami oraz zaawansowane techniki optymalizacji pod SEO, by Tw√≥j content zdobywa≈Ç szerokie zasiƒôgi i trwa≈Çe zainteresowanie w sieci. Je≈õli chcesz, aby Tw√≥j projekt by≈Ç dynamiczny, profesjonalny i wyr√≥≈ºnia≈Ç siƒô na tle konkurencji, zapraszam do wsp√≥≈Çpracy to razem stworzymy tre≈õci, kt√≥re zachwycƒÖ i poruszƒÖ TwojƒÖ spo≈Çeczno≈õƒá.</span>
                        </div>
                        <div class="skills-infographics">
                            <div class="infographic-card glass-card">
                                <div class="infographic-icon">
                                    <i class="fas fa-video"></i>
                                </div>
                                <div class="infographic-content">
                                    <h3 class="apple-clean-text">Monta≈º Video</h3>
                                    <p class="apple-clean-text">Adobe Premiere Pro, After Effects</p>
                                </div>
                            </div>
                            
                            <div class="infographic-card glass-card">
                                <div class="infographic-icon">
                                    <i class="fas fa-palette"></i>
                                </div>
                                <div class="infographic-content">
                                    <h3 class="apple-clean-text">Grafika Komputerowa</h3>
                                    <p class="apple-clean-text">Photoshop</p>
                                </div>
                            </div>
                            
                            <div class="infographic-card glass-card">
                                <div class="infographic-icon">
                                    <i class="fas fa-brain"></i>
                                </div>
                                <div class="infographic-content">
                                    <h3 class="apple-clean-text">Sztuczna Inteligencja</h3>
                                    <p class="apple-clean-text">Perplexity, Kling, Cursor, Claude</p>
                                </div>
                            </div>
                        </div>
                        <div class="cta-quantum">
                            <button class="btn-holographic electric-hover" onclick="scrollToContact()">
                                <span class="btn-text apple-clean-text">Rozpocznij wsp√≥≈Çpracƒô</span>
                                <div class="btn-energy"></div>
                                <div class="btn-particles">
                                    <span></span><span></span><span></span>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ultra-Modern Portfolio Section -->
        <section class="portfolio-section" id="portfolio">
            <div id="portfolio-root"></div>
        </section>

        <section id="contact" class="contact-section">
            <div class="container">
                <h2 class="contact-big-title"><span class="ultimate-neon-header" data-text="KONTAKT">KONTAKT</span></h2>
                <div class="contact-infographics">
                    <div class="contact-card">
                        <div class="contact-icon"><i class="fas fa-envelope"></i></div>
                        <div class="contact-label apple-clean-text">E-mail</div>
                        <div class="contact-value apple-clean-text">supertrewi@gmail.com</div>
                    </div>
                    <div class="contact-card">
                        <div class="contact-icon"><i class="fas fa-phone"></i></div>
                        <div class="contact-label apple-clean-text">Telefon</div>
                        <div class="contact-value apple-clean-text">+48 573 311 007</div>
                    </div>
                    <div class="contact-card">
                        <div class="contact-icon"><i class="fab fa-facebook"></i></div>
                        <div class="contact-label apple-clean-text">Facebook</div>
                        <div class="contact-value">
                            <a href="https://www.facebook.com/profile.php?id=100007837713621" target="_blank" rel="noopener noreferrer" class="electric-hover">Patryk Bobrowski</a>
                        </div>
                    </div>
                </div>
                <form id="contact-form" class="contact-form" method="POST" accept-charset="UTF-8" data-endpoint="https://formspree.io/f/mwpqyqzn">
                    <!-- Honeypot anty-spam (zostaw puste) -->
                    <input type="text" name="_honey" tabindex="-1" autocomplete="off" style="display:none">

                    <div class="form-group">
                        <input type="text" name="name" placeholder="Imiƒô i nazwisko" required>
                    </div>
                    <div class="form-group">
                        <input type="email" name="email" placeholder="Tw√≥j e-mail" inputmode="email" required>
                    </div>
                    <div class="form-group" style="margin-bottom:12px;">
                        <textarea name="message" placeholder="Wiadomo≈õƒá" rows="5" required></textarea>
                    </div>
                    <div class="form-group form-consent" style="margin: 0;">
                      <label class="consent-control" for="privacy-consent">
                        <input type="checkbox" id="privacy-consent" required>
                        <span class="checkmark" aria-hidden="true"></span>
                        <span class="consent-block">
                          <span class="consent-text apple-clean-text">Akceptujƒô zasady prywatno≈õci</span>
                          <a href="privacy.html" class="consent-link">Polityka prywatno≈õci</a>
                        </span>
                      </label>
                    </div>
                    <div id="contact-status" class="apple-clean-text" style="text-align:center; min-height:0; margin: 0;"></div>
                    <button type="submit" class="btn-primary liquid-btn electric-hover sticky-mobile" style="margin-top:2px;">
                        <span>Wy≈õlij wiadomo≈õƒá</span>
                        <div class="btn-liquid"></div>
                    </button>
                </form>
            </div>
        </section>
    </main>
    <script>
      // Auto-resize textarea (Wiadomo≈õƒá) ‚Äì dopasowanie wysoko≈õci do tre≈õci
      (function(){
        const ta = document.querySelector('.contact-form textarea');
        if(!ta) return;
        const resize = () => {
          ta.style.height = 'auto';
          ta.style.height = Math.min(ta.scrollHeight, 480) + 'px';
        };
        ['input','change'].forEach(evt => ta.addEventListener(evt, resize));
        window.addEventListener('load', resize);
      })();
    </script>
<script>
// Neon Electric Blue Background (uniform jittered particles + mesh gradient field)
(function(){
  const canvas = document.getElementById('neon-bg-canvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  let w, h, dpr;

  function resize() {
    dpr = Math.min(window.devicePixelRatio || 1, 2);
    w = canvas.clientWidth = window.innerWidth;
    h = canvas.clientHeight = window.innerHeight;
    canvas.width = Math.floor(w * dpr);
    canvas.height = Math.floor(h * dpr);
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  }
  resize();
  window.addEventListener('resize', resize);

  // Palette aligned with UI accents
  const COLORS = [
    'rgba(0,191,255,1)', // Electric Blue
    'rgba(30,144,255,1)',
    'rgba(147,112,219,1)' // dodany lekki fiolet (trendy touch)
  ];

  // Config ‚Äì minimalistyczne ustawienia
  let GRID_SPACING = 110;          // wiƒôcej punkt√≥w, ale wciƒÖ≈º schludnie
  const LINK_DIST = 0;             // linie wy≈ÇƒÖczone (minimalizm)
  const TRAIL_DECAY = 0.14;        // kr√≥tkie smugi / prawie brak ≈õladu
  const MOUSE_INFLUENCE = 50;      // ograniczony wp≈Çyw kursora

  const rnd = (min, max) => Math.random() * (max - min) + min;

  const mouse = { x: w/2, y: h/2, vx: 0, vy: 0, down: false };
  window.addEventListener('mousemove', e => {
    const nx = e.clientX, ny = e.clientY;
    mouse.vx = nx - mouse.x; mouse.vy = ny - mouse.y;
    mouse.x = nx; mouse.y = ny;
  });
  window.addEventListener('mousedown', ()=> mouse.down = true);
  window.addEventListener('mouseup',   ()=> mouse.down = false);

  class Node {
    constructor(x, y) { this.reset(x, y); }
    reset(x, y) {
      this.baseX = (typeof x === 'number') ? x : rnd(0, w);
      this.baseY = (typeof y === 'number') ? y : rnd(0, h);
      this.x = this.baseX; this.y = this.baseY;
      this.vx = 0; this.vy = 0;
      this.r = rnd(2.0, 4.2); // wiƒôksze
      this.c = COLORS[(Math.random()*COLORS.length)|0];
      this.alpha = rnd(0.35, 0.65);
      this.tw = rnd(0, Math.PI*2);
      this.twS = rnd(0.0015, 0.004);
      // naturalny, rozleg≈Çy ruch w obie osie (sin/cos) + powolny drift
      this.oscT = rnd(0, Math.PI*2);
      this.freqX = rnd(0.8, 1.3);
      this.freqY = rnd(0.8, 1.3);
      this.oscS = rnd(0.0015, 0.0035);
      this.ampX = rnd(32, 84);
      this.ampY = rnd(24, 72);
      // depth sway (paralaksa punkt√≥w wzglƒôdem kursora ‚Äì bardzo subtelna)
      this.depth = rnd(0.2, 0.8);
      this.driftX = rnd(-0.02, 0.02);
      this.driftY = rnd(-0.02, 0.02);
      // elegancki zestaw kszta≈Çt√≥w (dot + ring)
      const shapes = ['dot','ring'];
      const weights = [0.78, 0.22];
      const rPick = Math.random();
      let acc = 0; this.shape = 'dot';
      for (let i=0;i<shapes.length;i++){ acc += weights[i]; if (rPick <= acc){ this.shape = shapes[i]; break; } }
      this.rot = rnd(0, Math.PI*2);
      this.rotS = rnd(-0.001, 0.001);
      this.len = rnd(6, 12);
    }
    step() {
      this.oscT += this.oscS;
      this.baseX += this.driftX;
      this.baseY += this.driftY;
      // wrap bazowej pozycji by delikatny drift nie ucieka≈Ç poza kadr
      if (this.baseX < -20) this.baseX = w + 20;
      if (this.baseX > w + 20) this.baseX = -20;
      if (this.baseY < -20) this.baseY = h + 20;
      if (this.baseY > h + 20) this.baseY = -20;
      const swayX = (mouse.x - w/2) * 0.003 * this.depth;
      const swayY = (mouse.y - h/2) * 0.003 * this.depth;
      this.x = this.baseX + Math.sin(this.oscT * this.freqX) * this.ampX + swayX;
      this.y = this.baseY + Math.cos(this.oscT * this.freqY) * this.ampY + swayY;
      this.tw += this.twS;
      this.rot += this.rotS;
    }
    draw() {
      const glow = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.r*6.5);
      const baseAlpha = this.alpha * (0.5 + 0.5*Math.sin(this.tw));
      const c = this.c.replace(',1)', `,${Math.max(0.04, baseAlpha*0.15)})`);
      glow.addColorStop(0, this.c.replace(',1)', `,${Math.max(0.16, baseAlpha)})`));
      glow.addColorStop(1, c);
      ctx.save();
      ctx.translate(this.x, this.y);
      ctx.rotate(this.rot);
      switch (this.shape) {
        case 'ring':
          ctx.strokeStyle = this.c.replace(',1)', `,${Math.min(0.35, baseAlpha)})`);
          ctx.lineWidth = 0.6;
          ctx.beginPath(); ctx.arc(0, 0, this.r*2.2, 0, Math.PI*2); ctx.stroke();
          ctx.fillStyle = glow; ctx.beginPath(); ctx.arc(0, 0, this.r*2.6, 0, Math.PI*2); ctx.fill();
          break;
        case 'cross':
          ctx.strokeStyle = this.c.replace(',1)', `,${Math.min(0.35, baseAlpha)})`);
          ctx.lineWidth = 0.8;
          const s = this.r*2.2;
          ctx.beginPath(); ctx.moveTo(-s,0); ctx.lineTo(s,0); ctx.stroke();
          ctx.beginPath(); ctx.moveTo(0,-s); ctx.lineTo(0,s); ctx.stroke();
          break;
        case 'dash':
          ctx.strokeStyle = this.c.replace(',1)', `,${Math.min(0.3, baseAlpha)})`);
          ctx.lineWidth = 1.0;
          const h = this.len * 0.5;
          ctx.beginPath(); ctx.moveTo(-h,0); ctx.lineTo(h,0); ctx.stroke();
          break;
        case 'triangle':
          ctx.fillStyle = this.c.replace(',1)', `,${Math.min(0.25, baseAlpha)})`);
          const t = this.r*3.4;
          ctx.beginPath(); ctx.moveTo(0,-t); ctx.lineTo(t*0.866, t*0.5); ctx.lineTo(-t*0.866, t*0.5); ctx.closePath(); ctx.fill();
          break;
        default:
          ctx.fillStyle = glow; ctx.beginPath(); ctx.arc(0, 0, this.r*3, 0, Math.PI*2); ctx.fill();
          ctx.fillStyle = this.c.replace(',1)', `,${Math.min(0.9, baseAlpha+0.1)})`);
          ctx.beginPath(); ctx.arc(0, 0, this.r, 0, Math.PI*2); ctx.fill();
      }
      ctx.restore();
    }
  }

  let nodes = [];

  function seedNodes() {
    nodes = [];
    // adapt spacing to viewport for even distribution
    GRID_SPACING = Math.max(80, Math.min(120, Math.floor(Math.sqrt((w*h)/70))));
    const jitter = GRID_SPACING * 0.25; // nowocze≈õnie, ale schludnie
    const cols = Math.ceil(w / GRID_SPACING);
    const rows = Math.ceil(h / GRID_SPACING);
    for (let ry = 0; ry < rows; ry++) {
      for (let cx = 0; cx < cols; cx++) {
        const rowOffset = (ry % 2) * (GRID_SPACING * 0.5);
        const baseX = cx * GRID_SPACING + rowOffset + GRID_SPACING / 2;
        const baseY = ry * GRID_SPACING + GRID_SPACING / 2;
        // jitter for organic look
        const jx = rnd(-jitter, jitter);
        const jy = rnd(-jitter, jitter);
        if (Math.random() < 0.04) continue; // wiƒôcej punkt√≥w
        nodes.push(new Node(baseX + jx, baseY + jy));
      }
    }
  }
  seedNodes();

  function drawLinks() {
    for (let i = 0; i < nodes.length; i++) {
      for (let j = i+1; j < nodes.length; j++) {
        const a = nodes[i], b = nodes[j];
        const dx = a.x - b.x, dy = a.y - b.y;
        const dist = Math.hypot(dx, dy);
        // linie wy≈ÇƒÖczone ‚Äì pozostawiamy minimalny uk≈Çad punkt√≥w
      }
    }
  }

  function drawMeshField() {
    ctx.save();
    ctx.globalCompositeOperation = 'screen';
    const maxR = GRID_SPACING * 0.9; // bardziej rozleg≈Çy mesh
    for (let i = 0; i < nodes.length; i++) {
      const p = nodes[i];
      const r = maxR + p.r * 12;
      const baseAlpha = 0.02 + (p.r - 0.8) * 0.01; // intensywniejszy, ale wciƒÖ≈º subtelny
      const g = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, r);
      g.addColorStop(0, p.c.replace(',1)', ','+baseAlpha.toFixed(3)+')'));
      g.addColorStop(1, p.c.replace(',1)', ',0)'));
      ctx.fillStyle = g;
      ctx.beginPath();
      ctx.arc(p.x, p.y, r, 0, Math.PI*2);
      ctx.fill();
    }
    ctx.restore();
  }

  let last = 0;
  // WOW: sporadyczne pulse (bez t≈Ça sweep)
  let pulseTimer = 0;
  function tick(ts) {
    // trails / mild fade
    ctx.fillStyle = 'rgba(0,0,0,'+TRAIL_DECAY+')';
    ctx.fillRect(0,0,w,h);

    // mesh gradient field ‚Äì bardzo subtelny
    drawMeshField();
    // particles (bez linii)
    nodes.forEach(p=>{ p.step(); p.draw(); });

    // pulse co ~3-5s: chwilowy wzrost rozmiaru/alfa kilku punkt√≥w
    pulseTimer += 1;
    if (pulseTimer > 180) { // ~3s przy 60fps
      pulseTimer = 0;
      for (let i=0;i<nodes.length;i++) {
        if (Math.random() < 0.02) {
          const n = nodes[i];
          const origR = n.r;
          const origA = n.alpha;
          n.r = Math.min(4.2, n.r * 1.6);
          n.alpha = Math.min(0.75, n.alpha + 0.15);
          setTimeout(()=>{ n.r = origR; n.alpha = origA; }, 500);
        }
      }
    }

    // drawLinks(); // disabled for minimalist look

    requestAnimationFrame(tick);
  }
  // prime background with deep navy to match CSS
  ctx.fillStyle = '#0a0f1c';
  ctx.fillRect(0,0,w,h);
  requestAnimationFrame(tick);

  // Re-seed on resize for uniform layout
  window.addEventListener('resize', () => {
    resize();
    seedNodes();
  });
})();
</script>
<script>
// Cookie banner + modal kategorii (profesjonalny)
(function(){
  const b = document.getElementById('cookie-banner');
  if(!b) return;
  const A = document.getElementById('cb-accept');
  const R = document.getElementById('cb-reject');
  const S = document.getElementById('cb-save');
  const SET = document.getElementById('cb-settings');
  const k = 'cookie-consent-v1';
  function hide(){ b.style.display='none'; }
  const v = localStorage.getItem(k);
  if(v){ hide(); return; }
  window.addEventListener('load', ()=>{ b.style.display='flex'; });
  function saveVal(val){ localStorage.setItem(k, JSON.stringify(val)); hide(); document.getElementById('cookie-modal').setAttribute('aria-hidden','true'); }
  A.addEventListener('click', ()=>saveVal({analytics:true, marketing:true, decision:'all'}));
  R.addEventListener('click', ()=>saveVal({analytics:false, marketing:false, decision:'none'}));
  S.addEventListener('click', ()=>saveVal({decision:'saved'}));
  // modal settings
  const modal = document.getElementById('cookie-modal');
  const a = document.getElementById('cm-analytics');
  const m = document.getElementById('cm-marketing');
  if(SET){
    SET.addEventListener('click', (e)=>{ e.preventDefault(); modal.setAttribute('aria-hidden','false'); });
  }
  const accAll = document.getElementById('cm-accept-all');
  const rejAll = document.getElementById('cm-reject-all');
  const saveBtn = document.getElementById('cm-save');
  if(accAll) accAll.onclick = ()=> saveVal({analytics:true, marketing:true, decision:'all'});
  if(rejAll) rejAll.onclick = ()=> saveVal({analytics:false, marketing:false, decision:'none'});
  if(saveBtn) saveBtn.onclick = ()=> saveVal({analytics:a.checked, marketing:m.checked, decision:'custom'});
})();
</script>

    <footer class="footer">
        <div class="container" style="display:flex; gap:16px; flex-wrap:wrap; justify-content:center; align-items:center;">
            <span class="apple-clean-text" style="opacity:0.9;">¬© 2025 Patryk Bobrowski. Wszelkie prawa zastrze≈ºone</span>
            <span>¬∑</span>
            <a href="terms.html" class="nav-link" style="text-decoration:underline;">Terms</a>
            <span>¬∑</span>
            <a href="privacy.html" class="nav-link" style="text-decoration:underline;">Privacy</a>
            <span>¬∑</span>
            <a href="cookie-settings.html" class="nav-link" style="text-decoration:underline;">Ustawienia cookies</a>
        </div>
    </footer>

    <!-- Lightweight policy panels using :target -->
    <style>
      .policy-panel{display:none;position:fixed;inset:5%;background:rgba(14,19,48,.96);color:#fff;border:1px solid rgba(255,255,255,.12);border-radius:16px;padding:24px;overflow:auto;z-index:3000;}
      .policy-panel:target{display:block}
      .policy-close{position:absolute;top:10px;right:12px;background:transparent;border:1px solid rgba(255,255,255,.25);color:#fff;border-radius:8px;padding:6px 10px;cursor:pointer}
      .policy-panel h2{margin-top:0}
      .cookie-tooltip{position:relative;display:inline-flex;align-items:center;gap:6px}
      .cookie-tooltip .tip{display:none;position:absolute;left:0;top:120%;background:rgba(0,0,0,.85);color:#fff;padding:8px 10px;border-radius:8px;white-space:nowrap;font-size:12px}
      .cookie-tooltip:hover .tip{display:block}
    </style>

    <!-- legacy panels removed in favor of standalone pages -->
    <div id="privacy" class="policy-panel" style="display:none;">
      <a href="#" class="policy-close">Zamknij</a>
      <h2>Polityka prywatno≈õci</h2>
      <div style="font-size:14px; line-height:1.6; white-space:pre-wrap;">
        POLITYKA PRYWATNO≈öCI\nOstatnia aktualizacja: 2025-08-08\nAdministrator: Patryk Bobrowski (kontakt: supertrewi@gmail.com)\n[...] Szczeg√≥≈Çowa tre≈õƒá znajduje siƒô w dokumencie. 
      </div>
    </div>

    <div id="terms" class="policy-panel" style="display:none;">
      <a href="#" class="policy-close">Zamknij</a>
      <h2>Warunki korzystania</h2>
      <div style="font-size:14px; line-height:1.6; white-space:pre-wrap;">
        Warunki korzystania (Terms of Use)\nOstatnia aktualizacja: 2025-08-08\nW≈Ça≈õciciel serwisu: Patryk Bobrowski (kontakt: supertrewi@gmail.com)\n[...] Szczeg√≥≈Çowa tre≈õƒá znajduje siƒô w dokumencie.
      </div>
    </div>

    <div id="cookies" class="policy-panel" style="display:none;">
      <a href="#" class="policy-close">Zamknij</a>
      <h2>Polityka cookies</h2>
      <div style="font-size:14px; line-height:1.6; white-space:pre-wrap;">
        POLITYKA COOKIES\nOstatnia aktualizacja: 2025-08-08\nKategorie: niezbƒôdne, funkcjonalne, analityczne, marketingowe.\nZgody mo≈ºna zarzƒÖdzaƒá poni≈ºej lub w ustawieniach przeglƒÖdarki.
      </div>
    </div>

    <!-- Profesjonalny baner cookies z linkiem do ustawie≈Ñ i modalem kategorii -->
    <div id="cookie-banner" style="position:fixed;bottom:12px;left:50%;transform:translateX(-50%);max-width:980px;width:calc(100% - 24px);background:rgba(14,19,48,.95);color:#fff;border:1px solid rgba(255,255,255,.15);border-radius:14px;padding:12px 14px;z-index:2500;display:none;gap:12px;align-items:center;">
      <span class="apple-clean-text" style="font-size:14px;">U≈ºywamy cookies, by zapewniƒá dzia≈Çanie serwisu oraz ‚Äì po zgodzie ‚Äì analitykƒô i marketing.</span>
      <a href="#" id="cb-settings" class="nav-link" style="text-decoration:underline; font-size:13px;">Ustawienia</a>
      <span style="flex:1"></span>
      <button id="cb-accept" class="btn-primary" style="padding:8px 14px;">Akceptuj</button>
      <button id="cb-reject" class="btn-secondary" style="padding:8px 14px;">Odrzuƒá</button>
      <button id="cb-save" class="btn-secondary" style="padding:8px 14px;">Zapisz wyb√≥r</button>
    </div>

    <!-- Modal kategorii cookies (professional) -->
    <div id="cookie-modal" class="cookie-modal-overlay" aria-hidden="true" role="dialog" aria-label="Ustawienia cookies">
      <div class="cookie-modal">
        <h3>Ustawienia cookies</h3>
        <div class="rows">
          <div class="row"><input type="checkbox" checked disabled /><span>Niezbƒôdne ‚Äì wymagane do dzia≈Çania serwisu</span></div>
          <div class="row"><input type="checkbox" id="cm-analytics" /><span>Analityczne/statystyczne ‚Äì pomiar i ulepszanie</span></div>
          <div class="row"><input type="checkbox" id="cm-marketing" /><span>Marketingowe ‚Äì personalizacja tre≈õci/reklam</span></div>
        </div>
        <div class="note">Mo≈ºesz zmieniƒá wyb√≥r w dowolnym momencie. Wiƒôcej: <a href="privacy.html" class="nav-link" style="text-decoration:underline;">Polityka prywatno≈õci</a> ¬∑ <a href="cookies.html" class="nav-link" style="text-decoration:underline;">Polityka cookies</a></div>
        <div class="cookie-actions">
          <button id="cm-accept-all" class="btn-primary">Akceptuj wszystkie</button>
          <button id="cm-reject-all" class="btn-secondary">Odrzuƒá wszystkie</button>
          <button id="cm-save" class="btn-secondary">Zapisz wyb√≥r</button>
        </div>
      </div>
    </div>

    <!-- Working Portfolio Components -->

    <script type="text/babel">
        console.log('üöÄ Loading working portfolio...');
        
        // Portfolio Data with correct order
        const portfolioData = [
            { src: 'videos/ELONMUSKNEWS.mp4', aspect: '9:16', id: 'elon-musk', title: 'Elon Musk News' },
            { src: 'videos/Poraj.mp4', aspect: '9:16', id: 'poraj', title: 'Poraj' },
            { src: 'videos/wojna-w-wietnamie.mp4', aspect: '16:9', id: 'wojna-wietnam', title: 'Wojna w Wietnamie' },
            { src: 'videos/toolfine.mp4', aspect: '9:16', id: 'toolfine', title: 'Tool Fine' },
            { src: 'videos/edit.mp4', aspect: '16:9', id: 'edit', title: 'Edit' },
            { src: 'videos/Historyjka.mp4', aspect: '9:16', id: 'historyjka', title: 'Historyjka' },
            { src: 'videos/StoryTelling.mp4', aspect: '9:16', id: 'storytelling', title: 'Storytelling' },
            { src: 'videos/AI%20TELEDYSK.mp4', aspect: '9:16', id: 'ai-teledysk', title: 'AI Teledysk' },
            { src: 'videos/BRAINROTAI.mp4', aspect: '9:16', id: 'brainrot-ai', title: 'BrainRot AI' }
        ];

        // Portfolio Header Component
        const PortfolioHeader = () => {
            return React.createElement('div', {
                style: {
                    textAlign: 'center',
                    width: '100%',
                    marginBottom: '40px'
                }
            }, React.createElement('h2', {
                style: {
                    fontSize: '3.2rem',
                    fontWeight: '900',
                    margin: '0 auto 2.5rem auto',
                    color: '#ffffff',
                    textAlign: 'center'
                }
            }, 'PORTFOLIO'));
        };

        // Video Item Component
        const VideoItem = ({ video, index, isActive, isPlaying, onPlayPause, onEnded, onVolumeChange, volume, videoRef, showControls, setShowControls }) => {
            const [localVolume, setLocalVolume] = React.useState(volume);
            const localVideoRef = React.useRef(null);

            React.useEffect(() => {
                setLocalVolume(volume);
            }, [volume]);
            
            React.useEffect(() => {
                const videoEl = localVideoRef.current;
                if (videoEl && isActive) {
                    videoEl.volume = localVolume;
                }
            }, [localVolume, isActive]);

            const dimensions = video.aspect === '9:16' 
                ? { width: '320px', height: '569px' }
                : { width: '640px', height: '360px' };

            return React.createElement('div', {
                className: 'relative overflow-hidden rounded-2xl shadow-2xl',
                style: {
                    ...dimensions,
                    background: '#000'
                },
                onMouseEnter: () => isActive && setShowControls(true),
                onMouseLeave: () => isActive && setShowControls(false)
            }, [
                React.createElement('video', {
                    key: 'video',
                    ref: (el) => {
                        localVideoRef.current = el;
                        if (el) {
                            el.volume = localVolume;
                        }
                        if (typeof videoRef === 'function') {
                            videoRef(el);
                        }
                    },
                    src: video.src,
                    className: 'w-full h-full object-contain',
                    playsInline: true,
                    muted: false,
                    preload: isActive ? 'metadata' : 'none',
                    controls: false,
                    onLoadedData: () => {
                        console.log('‚úÖ Video loaded:', video.src);
                    },
                    onError: (e) => {
                        console.error('‚ùå Video error:', video.src, e);
                    },
                    onEnded: () => {
                        if (typeof onEnded === 'function') onEnded();
                    }
                }),
                
                // Play button for active video
                isActive && showControls && React.createElement('button', {
                    key: 'play-button',
                    onClick: onPlayPause,
                    style: {
                        position: 'absolute',
                        top: '50%',
                        left: '50%',
                        width: '80px',
                        height: '80px',
                        marginTop: '-40px',
                        marginLeft: '-40px',
                        borderRadius: '50%',
                        background: 'rgba(0, 0, 0, 0.8)',
                        border: '2px solid rgba(0, 191, 255, 0.5)',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        cursor: 'pointer',
                        color: 'white',
                        fontSize: '20px'
                    }
                }, React.createElement('i', {
                    className: isPlaying ? 'fas fa-pause' : 'fas fa-play'
                }))
            ]);
        };

        // World-Class Portfolio Component
        const WorldClassPortfolio = () => {
            const startAt = React.useMemo(() => {
                const idx = portfolioData.findIndex(v => v.src && v.src.indexOf('ELONMUSKNEWS.mp4') !== -1);
                return idx >= 0 ? idx : 0;
            }, []);
            const [currentIndex, setCurrentIndex] = React.useState(portfolioData.length + startAt);
            const [isPlaying, setIsPlaying] = React.useState(false);
            const [volume, setVolume] = React.useState(0.5);
            const [showControls, setShowControls] = React.useState(false);
            const videoRefs = React.useRef({});

            // Create infinite loop data
            const infiniteData = React.useMemo(() => {
                return [...portfolioData, ...portfolioData, ...portfolioData];
            }, []);

            // Pause all videos except active
            React.useEffect(() => {
                Object.keys(videoRefs.current).forEach(key => {
                    const video = videoRefs.current[key];
                    if (video) {
                        const videoIndex = parseInt(key);
                        if (videoIndex !== currentIndex) {
                            video.pause();
                            video.currentTime = 0;
                        }
                    }
                });
                setIsPlaying(false);
            }, [currentIndex]);

            const handleVideoControl = () => {
                const activeVideo = videoRefs.current[currentIndex];
                if (!activeVideo) return;

                if (isPlaying) {
                    activeVideo.pause();
                    setIsPlaying(false);
                } else {
                    activeVideo.play();
                    setIsPlaying(true);
                }
            };

            const handleVolumeChange = (newVolume) => {
                setVolume(newVolume);
                const activeVideo = videoRefs.current[currentIndex];
                if (activeVideo) {
                    activeVideo.volume = newVolume;
                }
            };

            const handleSlideChange = (newIndex) => {
                setCurrentIndex(newIndex);
                setShowControls(true);
            };

            const handlePrev = () => {
                const newIndex = currentIndex > 0 ? currentIndex - 1 : infiniteData.length - 1;
                handleSlideChange(newIndex);
            };

            const handleNext = () => {
                const newIndex = currentIndex < infiniteData.length - 1 ? currentIndex + 1 : 0;
                handleSlideChange(newIndex);
            };

            const handleEnded = () => {
                handleNext();
            };
            
            const handleDotClick = (index) => {
                const targetIndex = index + portfolioData.length;
                if (targetIndex !== currentIndex) {
                    handleSlideChange(targetIndex);
                }
            };

            // Render carousel items
            const renderCarouselItems = () => {
                return infiniteData.map((video, index) => {
                    const offset = index - currentIndex;
                    
                    if (Math.abs(offset) > 2) return null;
                    
                    const isActive = offset === 0;
                    const translateX = offset * 400;
                    const scale = isActive ? 1 : 0.75;
                    const opacity = isActive ? 1 : 0.4;
                    const blur = isActive ? 0 : 8;
                    const zIndex = isActive ? 20 : 10 - Math.abs(offset);
                    
                    return React.createElement('div', {
                        key: `${video.id}-${index}`,
                        className: 'absolute transition-all duration-600 ease-out',
                        style: {
                            transform: `translateX(${translateX}px) scale(${scale})`,
                            opacity: opacity,
                            filter: `blur(${blur}px)`,
                            zIndex: zIndex,
                            cursor: isActive ? 'default' : 'pointer'
                        },
                        onClick: !isActive ? () => handleSlideChange(index) : undefined
                    }, React.createElement(VideoItem, {
                        video: video,
                        index: index,
                        isActive: isActive,
                        isPlaying: isActive && isPlaying,
                        onPlayPause: handleVideoControl,
                        onEnded: handleEnded,
                        onVolumeChange: handleVolumeChange,
                        volume: volume,
                        videoRef: (el) => { if (el) { videoRefs.current[index] = el; } },
                        showControls: isActive && showControls,
                        setShowControls: setShowControls
                    }));
                });
            };

            return React.createElement('div', {
                className: 'portfolio-container relative min-h-screen flex flex-col justify-center items-center',
                style: { 
                    background: 'transparent',
                    overflow: 'hidden'
                }
            }, [
                React.createElement(PortfolioHeader, { key: 'header' }),
                
                React.createElement('div', {
                    key: 'carousel',
                    className: 'relative w-full flex justify-center items-center',
                    style: { height: '650px' }
                }, [
                    React.createElement('div', {
                        key: 'carousel-container',
                        className: 'relative w-full h-full flex justify-center items-center',
                        style: { perspective: '1000px' }
                    }, renderCarouselItems()),
                    
                    // Navigation arrows
                    React.createElement('button', {
                        key: 'prev-arrow',
                        onClick: handlePrev,
                        className: 'absolute left-8 top-1/2 transform -translate-y-1/2 z-30',
                        style: {
                            background: 'rgba(255, 255, 255, 0.15)',
                            backdropFilter: 'blur(15px)',
                            border: '1px solid rgba(255, 255, 255, 0.3)',
                            borderRadius: '50%',
                            width: '70px',
                            height: '70px',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            cursor: 'pointer',
                            transition: 'all 0.4s ease',
                            boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3)'
                        }
                    }, React.createElement('i', {
                        className: 'fas fa-chevron-left',
                        style: { color: 'white', fontSize: '24px' }
                    })),
                    
                    React.createElement('button', {
                        key: 'next-arrow',
                        onClick: handleNext,
                        className: 'absolute right-8 top-1/2 transform -translate-y-1/2 z-30',
                        style: {
                            background: 'rgba(255, 255, 255, 0.15)',
                            backdropFilter: 'blur(15px)',
                            border: '1px solid rgba(255, 255, 255, 0.3)',
                            borderRadius: '50%',
                            width: '70px',
                            height: '70px',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            cursor: 'pointer',
                            transition: 'all 0.4s ease',
                            boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3)'
                        }
                    }, React.createElement('i', {
                        className: 'fas fa-chevron-right',
                        style: { color: 'white', fontSize: '24px' }
                    }))
                ]),
                
                // Dots navigation
                React.createElement('div', {
                    key: 'dots',
                    className: 'flex justify-center space-x-3 mt-8',
                    style: { zIndex: 30 }
                }, portfolioData.map((_, index) => {
                    const isActive = index === (currentIndex % portfolioData.length);
                    return React.createElement('button', {
                        key: index,
                        onClick: () => handleDotClick(index),
                        className: `w-3 h-3 rounded-full transition-all duration-300 ${isActive ? 'bg-blue-400 scale-125' : 'bg-gray-400 hover:bg-gray-300'}`,
                        style: {
                            border: 'none',
                            cursor: 'pointer',
                            boxShadow: isActive ? '0 0 10px rgba(59, 130, 246, 0.5)' : 'none'
                        }
                    });
                }))
            ]);
        };

        // Initialize portfolio
        console.log('üéØ Initializing world-class portfolio...');
        const portfolioRoot = document.getElementById('portfolio-root');
        
        if (portfolioRoot && typeof React !== 'undefined' && typeof ReactDOM !== 'undefined') {
            try {
                portfolioRoot.innerHTML = '';
                ReactDOM.render(React.createElement(WorldClassPortfolio), portfolioRoot);
                console.log('‚úÖ World-class portfolio rendered successfully!');
            } catch (error) {
                console.error('‚ùå World-class portfolio error:', error);
            }
        } else {
            console.error('‚ùå Cannot initialize world-class portfolio:', {
                portfolioRoot: !!portfolioRoot,
                React: typeof React,
                ReactDOM: typeof ReactDOM
            });
        }
    </script>

    <!-- üåå DYNAMICZNE T≈ÅO KOSMICZNE - COSMIC ENGINE -->
        const PortfolioHeader = () => {
            return React.createElement('div', {
                style: {
                    textAlign: 'center',
                    width: '100%',
                    marginBottom: '40px'
                }
            }, React.createElement('h2', {
                style: {
                    fontSize: '3.2rem',
                    fontWeight: '900',
                    margin: '0 auto 2.5rem auto',
                    color: '#ffffff',
                    textAlign: 'center'
                }
            }, 'PORTFOLIO'));
        };

        // Simple Video Item Component
        const VideoItem = ({ video, index, isActive, isPlaying, onPlayPause, onEnded, onVolumeChange, volume, videoRef, showControls, setShowControls }) => {
            const [localVolume, setLocalVolume] = React.useState(volume);
            const localVideoRef = React.useRef(null);

            React.useEffect(() => {
                setLocalVolume(volume);
            }, [volume]);
            
            // Sync volume with video element
            React.useEffect(() => {
                const videoEl = localVideoRef.current;
                if (videoEl && isActive) {
                    videoEl.volume = localVolume;
                }
            }, [localVolume, isActive]);

            const dimensions = video.aspect === '9:16' 
                ? { width: '320px', height: '569px' }
                : { width: '640px', height: '360px' };

            return React.createElement('div', {
                className: 'relative overflow-hidden rounded-2xl shadow-2xl',
                style: {
                    ...dimensions,
                    background: '#000'
                },
                onMouseEnter: () => isActive && setShowControls(true),
                onMouseLeave: () => isActive && setShowControls(false)
            }, [
                React.createElement('video', {
                    key: 'video',
                    ref: (el) => {
                        localVideoRef.current = el;
                        if (el) {
                            el.volume = localVolume;
                        }
                        if (typeof videoRef === 'function') {
                            videoRef(el);
                        }
                    },
                    src: video.src,
                    className: 'w-full h-full object-contain',
                    playsInline: true,
                    muted: false,
                    preload: isActive ? 'metadata' : 'none',
                    controls: false,
                    onLoadedData: () => {
                        console.log('‚úÖ Video loaded:', video.src);
                    },
                    onError: (e) => {
                        console.error('‚ùå Video error:', video.src, e);
                    },
                    onEnded: () => {
                        if (typeof onEnded === 'function') onEnded();
                    }
                }),
                
                // Simple play button for active video
                isActive && showControls && React.createElement('button', {
                    key: 'play-button',
                    onClick: onPlayPause,
                    style: {
                        position: 'absolute',
                        top: '50%',
                        left: '50%',
                        width: '80px',
                        height: '80px',
                        marginTop: '-40px',
                        marginLeft: '-40px',
                        borderRadius: '50%',
                        background: 'rgba(0, 0, 0, 0.8)',
                        border: '2px solid rgba(0, 191, 255, 0.5)',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        cursor: 'pointer',
                        color: 'white',
                        fontSize: '20px'
                    }
                }, React.createElement('i', {
                    className: isPlaying ? 'fas fa-pause' : 'fas fa-play'
                }))
            ]);
        };

        // World-Class Portfolio Component
        const WorldClassPortfolio = () => {
            const startAt = React.useMemo(() => {
                const idx = portfolioData.findIndex(v => v.src && v.src.indexOf('ELONMUSKNEWS.mp4') !== -1);
                return idx >= 0 ? idx : 0;
            }, []);
            const [currentIndex, setCurrentIndex] = React.useState(portfolioData.length + startAt);
            const [isPlaying, setIsPlaying] = React.useState(false);
            const [volume, setVolume] = React.useState(0.5);
            const [showControls, setShowControls] = React.useState(false);
            const videoRefs = React.useRef({});

            // Create infinite loop data
            const infiniteData = React.useMemo(() => {
                return [...portfolioData, ...portfolioData, ...portfolioData];
            }, []);

            // Pause all videos except active
            React.useEffect(() => {
                Object.keys(videoRefs.current).forEach(key => {
                    const video = videoRefs.current[key];
                    if (video) {
                        const videoIndex = parseInt(key);
                        if (videoIndex !== currentIndex) {
                            video.pause();
                            video.currentTime = 0;
                        }
                    }
                });
                setIsPlaying(false);
            }, [currentIndex]);

            const handleVideoControl = () => {
                const activeVideo = videoRefs.current[currentIndex];
                if (!activeVideo) return;

                if (isPlaying) {
                    activeVideo.pause();
                    setIsPlaying(false);
                } else {
                    activeVideo.play();
                    setIsPlaying(true);
                }
            };

            const handleVolumeChange = (newVolume) => {
                setVolume(newVolume);
                const activeVideo = videoRefs.current[currentIndex];
                if (activeVideo) {
                    activeVideo.volume = newVolume;
                }
            };

            const handleSlideChange = (newIndex) => {
                setCurrentIndex(newIndex);
                setShowControls(true);
            };

            const handlePrev = () => {
                const newIndex = currentIndex > 0 ? currentIndex - 1 : infiniteData.length - 1;
                handleSlideChange(newIndex);
            };

            const handleNext = () => {
                const newIndex = currentIndex < infiniteData.length - 1 ? currentIndex + 1 : 0;
                handleSlideChange(newIndex);
            };

            const handleEnded = () => {
                handleNext();
            };
            
            const handleDotClick = (index) => {
                const targetIndex = index + portfolioData.length;
                if (targetIndex !== currentIndex) {
                    handleSlideChange(targetIndex);
                }
            };

            // Render carousel items
            const renderCarouselItems = () => {
                return infiniteData.map((video, index) => {
                    const offset = index - currentIndex;
                    
                    if (Math.abs(offset) > 2) return null;
                    
                    const isActive = offset === 0;
                    const translateX = offset * 400;
                    const scale = isActive ? 1 : 0.75;
                    const opacity = isActive ? 1 : 0.4;
                    const blur = isActive ? 0 : 8;
                    const zIndex = isActive ? 20 : 10 - Math.abs(offset);
                    
                    return React.createElement('div', {
                        key: `${video.id}-${index}`,
                        className: 'absolute transition-all duration-600 ease-out',
                        style: {
                            transform: `translateX(${translateX}px) scale(${scale})`,
                            opacity: opacity,
                            filter: `blur(${blur}px)`,
                            zIndex: zIndex,
                            cursor: isActive ? 'default' : 'pointer'
                        },
                        onClick: !isActive ? () => handleSlideChange(index) : undefined
                    }, React.createElement(VideoItem, {
                        video: video,
                        index: index,
                        isActive: isActive,
                        isPlaying: isActive && isPlaying,
                        onPlayPause: handleVideoControl,
                        onEnded: handleEnded,
                        onVolumeChange: handleVolumeChange,
                        volume: volume,
                        videoRef: (el) => { if (el) { videoRefs.current[index] = el; } },
                        showControls: isActive && showControls,
                        setShowControls: setShowControls
                    }));
                });
            };

            return React.createElement('div', {
                className: 'portfolio-container relative min-h-screen flex flex-col justify-center items-center',
                style: { 
                    background: 'transparent',
                    overflow: 'hidden'
                }
            }, [
                React.createElement(PortfolioHeader, { key: 'header' }),
                
                React.createElement('div', {
                    key: 'carousel',
                    className: 'relative w-full flex justify-center items-center',
                    style: { height: '650px' }
                }, [
                    React.createElement('div', {
                        key: 'carousel-container',
                        className: 'relative w-full h-full flex justify-center items-center',
                        style: { perspective: '1000px' }
                    }, renderCarouselItems()),
                    
                    // Navigation arrows
                    React.createElement('button', {
                        key: 'prev-arrow',
                        onClick: handlePrev,
                        className: 'absolute left-8 top-1/2 transform -translate-y-1/2 z-30',
                        style: {
                            background: 'rgba(255, 255, 255, 0.15)',
                            backdropFilter: 'blur(15px)',
                            border: '1px solid rgba(255, 255, 255, 0.3)',
                            borderRadius: '50%',
                            width: '70px',
                            height: '70px',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            cursor: 'pointer',
                            transition: 'all 0.4s ease',
                            boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3)'
                        }
                    }, React.createElement('i', {
                        className: 'fas fa-chevron-left',
                        style: { color: 'white', fontSize: '24px' }
                    })),
                    
                    React.createElement('button', {
                        key: 'next-arrow',
                        onClick: handleNext,
                        className: 'absolute right-8 top-1/2 transform -translate-y-1/2 z-30',
                        style: {
                            background: 'rgba(255, 255, 255, 0.15)',
                            backdropFilter: 'blur(15px)',
                            border: '1px solid rgba(255, 255, 255, 0.3)',
                            borderRadius: '50%',
                            width: '70px',
                            height: '70px',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            cursor: 'pointer',
                            transition: 'all 0.4s ease',
                            boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3)'
                        }
                    }, React.createElement('i', {
                        className: 'fas fa-chevron-right',
                        style: { color: 'white', fontSize: '24px' }
                    }))
                ]),
                
                // Dots navigation
                React.createElement('div', {
                    key: 'dots',
                    className: 'flex justify-center space-x-3 mt-8',
                    style: { zIndex: 30 }
                }, portfolioData.map((_, index) => {
                    const isActive = index === (currentIndex % portfolioData.length);
                    return React.createElement('button', {
                        key: index,
                        onClick: () => handleDotClick(index),
                        className: `w-3 h-3 rounded-full transition-all duration-300 ${isActive ? 'bg-blue-400 scale-125' : 'bg-gray-400 hover:bg-gray-300'}`,
                        style: {
                            border: 'none',
                            cursor: 'pointer',
                            boxShadow: isActive ? '0 0 10px rgba(59, 130, 246, 0.5)' : 'none'
                        }
                    });
                }))
            ]);
        };

        // Initialize portfolio
        console.log('üéØ Initializing world-class portfolio...');
        const portfolioRoot = document.getElementById('portfolio-root');
                    setIsPlaying(true);
                    setShowControls(true);
                }
            };

            const handleVolumeChange = (newVolume) => {
                setVolume(newVolume);
                const activeVideo = videoRefs.current[currentIndex];
                if (activeVideo) {
                    activeVideo.volume = newVolume;
                }
            };

            const handleSlideChange = (newIndex) => {
                if (isTransitioning) return;
                
                setIsTransitioning(true);
                setCurrentIndex(newIndex);
                
                setTimeout(() => {
                    setShowControls(true);
                }, 100);
                
                setTimeout(() => {
                    if (newIndex < portfolioData.length) {
                        setCurrentIndex(newIndex + portfolioData.length);
                    } else if (newIndex >= portfolioData.length * 2) {
                        setCurrentIndex(newIndex - portfolioData.length);
                    }
                    setIsTransitioning(false);
                }, 600);
            };

            const handlePrev = () => {
                handleSlideChange(currentIndex - 1);
                setTimeout(() => setShowControls(true), 100);
            };
            const handleNext = () => {
                handleSlideChange(currentIndex + 1);
                setTimeout(() => setShowControls(true), 100);
            };
            const handleEnded = () => {
                const next = currentIndex + 1;
                handleSlideChange(next);
                setTimeout(() => {
                    const active = videoRefs.current[next];
                    if (active && typeof active.play === 'function') {
                        active.play();
                        setIsPlaying(true);
                        setShowControls(true);
                    }
                }, 700);
                setShowControls(true);
            };
            
            const handleDotClick = (index) => {
                const targetIndex = index + portfolioData.length;
                if (targetIndex !== currentIndex) {
                    handleSlideChange(targetIndex);
                    setTimeout(() => setShowControls(true), 100);
                }
            };

            // Video Item Component
            const VideoItem = ({ video, index, isActive, isPlaying, onPlayPause, onEnded, onVolumeChange, volume, videoRef, showControls, setShowControls }) => {
                const [localVolume, setLocalVolume] = React.useState(volume);
                const localVideoRef = React.useRef(null);

                React.useEffect(() => {
                    setLocalVolume(volume);
                }, [volume]);
                
                React.useEffect(() => {
                    const videoEl = localVideoRef.current;
                    if (videoEl && isActive) {
                        videoEl.volume = localVolume;
                    }
                }, [localVolume, isActive]);

                React.useEffect(() => {
                    if (isActive) {
                        setShowControls(true);
                        if (!isPlaying) {
                            const timer = setTimeout(() => setShowControls(false), 3000);
                            return () => clearTimeout(timer);
                        }
                    } else {
                        setShowControls(false);
                    }
                }, [isActive, isPlaying, setShowControls]);

                const dimensions = video.aspect === '9:16' 
                    ? { width: '320px', height: '569px' }
                    : { width: '640px', height: '360px' };

                return React.createElement('div', {
                    className: 'relative overflow-hidden rounded-2xl shadow-2xl',
                    style: {
                        ...dimensions,
                        background: '#000'
                    },
                    onMouseEnter: () => isActive && setShowControls(true),
                    onMouseLeave: () => isActive && setShowControls(false),
                    onFocus: () => isActive && setShowControls(true),
                    onBlur: () => isActive && setShowControls(false)
                }, [
                    React.createElement('video', {
                        key: 'video',
                        ref: (el) => {
                            localVideoRef.current = el;
                            if (el) {
                                el.volume = localVolume;
                            }
                            if (typeof videoRef === 'function') {
                                videoRef(el);
                            }
                        },
                        src: video.src,
                        className: 'w-full h-full object-contain video-thumbnail',
                        playsInline: true,
                        muted: false,
                        preload: isActive ? 'metadata' : 'none',
                        controls: false,
                        disablePictureInPicture: true,
                        'aria-label': `Video: ${video.id}`,
                        tabIndex: isActive ? 0 : -1,
                        onLoadedData: () => {
                            console.log('‚úÖ Video loaded:', video.src);
                            if (isActive) {
                                setShowControls(true);
                                if (!isPlaying) {
                                    setTimeout(() => setShowControls(false), 3000);
                                }
                            }
                        },
                        onError: (e) => {
                            console.error('‚ùå Video error:', video.src, e);
                        },
                        onEnded: () => {
                            if (typeof onEnded === 'function') onEnded();
                        },
                        onPlay: () => {
                            if (isActive) {
                                setShowControls(true);
                            }
                        },
                        onPause: () => {
                            if (isActive) {
                                setShowControls(true);
                            }
                        },
                        onKeyDown: (e) => {
                            if (isActive) {
                                switch(e.key) {
                                    case ' ':
                                    case 'Enter':
                                        e.preventDefault();
                                        onPlayPause();
                                        break;
                                    case 'ArrowLeft':
                                        e.preventDefault();
                                        break;
                                    case 'ArrowRight':
                                        e.preventDefault();
                                        break;
                                }
                            }
                        }
                    }),
                    
                    // Modern controls for active video only
                    isActive && React.createElement('div', {
                        key: 'controls-overlay',
                        className: `absolute inset-0 transition-opacity duration-300`,
                        style: { 
                            zIndex: 250
                        }
                    }, [
                        showControls && React.createElement('button', {
                            key: 'play-button',
                            className: 'video-play-button-stable',
                            onClick: onPlayPause,
                            style: {
                                position: 'absolute',
                                top: '50%',
                                left: '50%',
                                width: '100px',
                                height: '100px',
                                marginTop: '-50px',
                                marginLeft: '-50px',
                                borderRadius: '50%',
                                background: 'rgba(0, 0, 0, 0.8)',
                                backdropFilter: 'blur(15px)',
                                zIndex: 1000,
                                border: '2px solid rgba(0, 191, 255, 0.5)',
                                display: 'flex',
                                alignItems: 'center',
                                justifyContent: 'center',
                                cursor: 'pointer',
                                transition: 'all 0.3s ease',
                                transform: 'none'
                            },
                            onMouseEnter: (e) => {
                                e.currentTarget.style.transform = 'none';
                                e.currentTarget.style.background = 'rgba(0, 191, 255, 0.3)';
                                e.currentTarget.style.borderColor = 'rgba(0, 191, 255, 0.8)';
                                e.currentTarget.style.boxShadow = '0 0 30px rgba(0, 191, 255, 0.6)';
                            },
                            onMouseLeave: (e) => {
                                e.currentTarget.style.transform = 'none';
                                e.currentTarget.style.background = 'rgba(0, 0, 0, 0.8)';
                                e.currentTarget.style.borderColor = 'rgba(0, 191, 255, 0.5)';
                                e.currentTarget.style.boxShadow = 'none';
                            }
                        }, React.createElement('i', {
                            className: isPlaying ? 'fas fa-pause' : 'fas fa-play',
                            style: { 
                                color: 'white', 
                                fontSize: '24px',
                                marginLeft: isPlaying ? '0' : '4px'
                            }
                        })),
                        
                        showControls && React.createElement('div', {
                            key: 'volume-control',
                            className: 'absolute top-4 right-4',
                            style: {
                                background: 'rgba(0, 0, 0, 0.6)',
                                backdropFilter: 'blur(10px)',
                                borderRadius: '20px',
                                padding: '8px 16px',
                                display: 'flex',
                                alignItems: 'center',
                                gap: '10px',
                                zIndex: 260
                            }
                        }, [
                            React.createElement('i', {
                                key: 'volume-icon',
                                className: 'fas fa-volume-up',
                                style: { color: 'white', fontSize: '14px' }
                            }),
                            React.createElement('input', {
                                key: 'volume-slider',
                                type: 'range',
                                min: 0,
                                max: 1,
                                step: 0.1,
                                value: localVolume,
                                onChange: (e) => {
                                    const newVolume = parseFloat(e.target.value);
                                    setLocalVolume(newVolume);
                                    onVolumeChange(newVolume);
                                },
                                style: {
                                    width: '80px',
                                    accentColor: '#00BFFF'
                                }
                            })
                        ])
                    ])
                ]);
            };

            // Render carousel items
            const renderCarouselItems = () => {
                return infiniteData.map((video, index) => {
                    const offset = index - currentIndex;
                    
                    if (Math.abs(offset) > 2) return null;
                    
                    const isActive = offset === 0;
                    const translateX = offset * 400;
                    const scale = isActive ? 1 : 0.75;
                    const opacity = isActive ? 1 : 0.4;
                    const blur = isActive ? 0 : 8;
                    const zIndex = isActive ? 20 : 10 - Math.abs(offset);
                    
                    return React.createElement('div', {
                        key: `${video.id}-${index}`,
                        className: 'absolute transition-all duration-600 ease-out',
                        style: {
                            transform: `translateX(${translateX}px) scale(${scale})`,
                            opacity: opacity,
                            filter: `blur(${blur}px)`,
                            zIndex: zIndex,
                            cursor: isActive ? 'default' : 'pointer'
                        },
                        onClick: !isActive ? () => {
                            handleSlideChange(index);
                            setTimeout(() => setShowControls(true), 100);
                        } : undefined
                    }, React.createElement(VideoItem, {
                        video: video,
                        index: index,
                        isActive: isActive,
                        isPlaying: isActive && isPlaying,
                        onPlayPause: handleVideoControl,
                        onEnded: handleEnded,
                        onVolumeChange: handleVolumeChange,
                        volume: volume,
                        videoRef: (el) => { if (el) { videoRefs.current[index] = el; el.setAttribute('playsinline',''); el.setAttribute('webkit-playsinline',''); el.setAttribute('preload','metadata'); } },
                        showControls: isActive && showControls,
                        setShowControls: setShowControls
                    }));
                });
            };

            return React.createElement('div', {
                className: 'portfolio-container relative min-h-screen flex flex-col justify-center items-center',
                style: { 
                    background: 'transparent',
                    overflow: 'hidden'
                }
            }, [
                React.createElement(PortfolioHeader, { key: 'header' }),
                
                React.createElement('div', {
                    key: 'carousel',
                    className: 'relative w-full flex justify-center items-center',
                    style: { height: '650px' }
                }, [
                    React.createElement('div', {
                        key: 'carousel-container',
                        ref: containerRef,
                        className: 'relative w-full h-full flex justify-center items-center',
                        style: { perspective: '1000px' }
                    }, renderCarouselItems()),
                    
                    // Navigation arrows
                    React.createElement('button', {
                        key: 'prev-arrow',
                        onClick: handlePrev,
                        className: 'absolute left-8 top-1/2 transform -translate-y-1/2 z-30',
                        style: {
                            background: 'rgba(255, 255, 255, 0.15)',
                            backdropFilter: 'blur(15px)',
                            border: '1px solid rgba(255, 255, 255, 0.3)',
                            borderRadius: '50%',
                            width: '70px',
                            height: '70px',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            cursor: 'pointer',
                            transition: 'all 0.4s ease',
                            boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3)'
                        }
                    }, React.createElement('i', {
                        className: 'fas fa-chevron-left',
                        style: { color: 'white', fontSize: '24px' }
                    })),
                    
                    React.createElement('button', {
                        key: 'next-arrow',
                        onClick: handleNext,
                        className: 'absolute right-8 top-1/2 transform -translate-y-1/2 z-30',
                        style: {
                            background: 'rgba(255, 255, 255, 0.15)',
                            backdropFilter: 'blur(15px)',
                            border: '1px solid rgba(255, 255, 255, 0.3)',
                            borderRadius: '50%',
                            width: '70px',
                            height: '70px',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            cursor: 'pointer',
                            transition: 'all 0.4s ease',
                            boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3)'
                        }
                    }, React.createElement('i', {
                        className: 'fas fa-chevron-right',
                        style: { color: 'white', fontSize: '24px' }
                    }))
                ]),
                
                // Dots navigation
                React.createElement('div', {
                    key: 'dots',
                    className: 'flex justify-center space-x-3 mt-8',
                    style: { zIndex: 30 }
                }, portfolioData.map((_, index) => {
                    const isActive = index === (currentIndex % portfolioData.length);
                    return React.createElement('button', {
                        key: index,
                        onClick: () => handleDotClick(index),
                        className: `w-3 h-3 rounded-full transition-all duration-300 ${isActive ? 'bg-blue-400 scale-125' : 'bg-gray-400 hover:bg-gray-300'}`,
                        style: {
                            border: 'none',
                            cursor: 'pointer',
                            boxShadow: isActive ? '0 0 10px rgba(59, 130, 246, 0.5)' : 'none'
                        }
                    });
                }))
            ]);
        };

        // Initialize portfolio
        console.log('üéØ Initializing world-class portfolio...');
        const portfolioRoot = document.getElementById('portfolio-root');
                        isPlaying: isActive && isPlaying,
                        onPlayPause: handleVideoControl,
                        onEnded: handleEnded,
                        onVolumeChange: handleVolumeChange,
                        volume: volume,
                        videoRef: (el) => { if (el) { videoRefs.current[index] = el; el.setAttribute('playsinline',''); el.setAttribute('webkit-playsinline',''); el.setAttribute('preload','metadata'); } },
                        showControls: isActive && showControls,
                        setShowControls: setShowControls
                    }));
                });
            };

            return React.createElement('div', {
                className: 'portfolio-container relative min-h-screen flex flex-col justify-center items-center',
                style: { 
                    background: 'transparent',
                    overflow: 'hidden'
                }
            }, [
                React.createElement(PortfolioHeader, { key: 'header' }),
                
                React.createElement('div', {
                    key: 'carousel',
                    className: 'relative w-full flex justify-center items-center',
                    style: { height: '650px' }
                }, [
                    React.createElement('div', {
                        key: 'carousel-container',
                        ref: containerRef,
                        className: 'relative',
                        style: {
                            width: '100%',
                            maxWidth: '1600px',
                            height: '100%',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center'
                        }
                    }, renderCarouselItems()),
                    
                    React.createElement(NavigationArrows, {
                        key: 'arrows',
                        onPrev: handlePrev,
                        onNext: handleNext
                    })
                ]),
                
                React.createElement(DotIndicators, {
                    key: 'dots',
                    total: portfolioData.length,
                    current: currentIndex % portfolioData.length,
                    onDotClick: handleDotClick
                })
            ]);
        };

        };

        // Simple Video Item Component
        const VideoItem = ({ video, index, isActive, isPlaying, onPlayPause, onEnded, onVolumeChange, volume, videoRef, showControls, setShowControls }) => {
            const [localVolume, setLocalVolume] = React.useState(volume);
            const localVideoRef = React.useRef(null);

            React.useEffect(() => {
                setLocalVolume(volume);
            }, [volume]);
            
            React.useEffect(() => {
                const videoEl = localVideoRef.current;
                if (videoEl && isActive) {
                    videoEl.volume = localVolume;
                }
            }, [localVolume, isActive]);

            const dimensions = video.aspect === '9:16' 
                ? { width: '320px', height: '569px' }
                : { width: '640px', height: '360px' };

            return React.createElement('div', {
                className: 'relative overflow-hidden rounded-2xl shadow-2xl',
                style: {
                    ...dimensions,
                    background: '#000'
                },
                onMouseEnter: () => isActive && setShowControls(true),
                onMouseLeave: () => isActive && setShowControls(false)
            }, [
                React.createElement('video', {
                    key: 'video',
                    ref: (el) => {
                        localVideoRef.current = el;
                        if (el) {
                            el.volume = localVolume;
                        }
                        if (typeof videoRef === 'function') {
                            videoRef(el);
                        }
                    },
                    src: video.src,
                    className: 'w-full h-full object-contain',
                    playsInline: true,
                    muted: false,
                    preload: isActive ? 'metadata' : 'none',
                    controls: false,
                    onLoadedData: () => {
                        console.log('‚úÖ Video loaded:', video.src);
                    },
                    onError: (e) => {
                        console.error('‚ùå Video error:', video.src, e);
                    },
                    onEnded: () => {
                        if (typeof onEnded === 'function') onEnded();
                    }
                }),
                
                // Simple play button for active video
                isActive && showControls && React.createElement('button', {
                    key: 'play-button',
                    onClick: onPlayPause,
                    style: {
                        position: 'absolute',
                        top: '50%',
                        left: '50%',
                        width: '80px',
                        height: '80px',
                        marginTop: '-40px',
                        marginLeft: '-40px',
                        borderRadius: '50%',
                        background: 'rgba(0, 0, 0, 0.8)',
                        border: '2px solid rgba(0, 191, 255, 0.5)',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        cursor: 'pointer',
                        color: 'white',
                        fontSize: '20px'
                    }
                }, React.createElement('i', {
                    className: isPlaying ? 'fas fa-pause' : 'fas fa-play'
                }))
            ]);
        };

        // Initialize portfolio
        console.log('üéØ Initializing world-class portfolio...');
        const portfolioRoot = document.getElementById('portfolio-root');
        
        if (portfolioRoot && typeof React !== 'undefined' && typeof ReactDOM !== 'undefined') {
            try {
                portfolioRoot.innerHTML = '';
                ReactDOM.render(React.createElement(WorldClassPortfolio), portfolioRoot);
                console.log('‚úÖ World-class portfolio rendered successfully!');
                
                // Simple initialization
                console.log('üìä Portfolio loaded successfully');
                console.log('  - Videos loaded:', portfolioData.length);
        console.log('üî• ELECTRIC BLUE CSS LOADED - Check for neon effects!');
        
        // üî• ELECTRIC BLUE CSS VERIFICATION
        setTimeout(() => {
            const electricHeaders = document.querySelectorAll('.electric-header');
            const electricTexts = document.querySelectorAll('.electric-text');
            const electricHovers = document.querySelectorAll('.electric-hover');
            
            console.log('üîç ELECTRIC ELEMENTS FOUND:');
            console.log('  - Electric Headers:', electricHeaders.length);
            console.log('  - Electric Texts:', electricTexts.length);
            console.log('  - Electric Hovers:', electricHovers.length);
            
            // Test CSS variables
            const testEl = document.createElement('div');
            document.body.appendChild(testEl);
            testEl.style.color = 'var(--electric-blue)';
            const computedColor = getComputedStyle(testEl).color;
            console.log('üé® Electric Blue Color:', computedColor);
            document.body.removeChild(testEl);
            
            if (electricHeaders.length > 0) {
                console.log('‚úÖ ELECTRIC EFFECTS SHOULD BE VISIBLE!');
            } else {
                console.log('‚ùå NO ELECTRIC ELEMENTS FOUND!');
            }
        }, 1000);
        
        // üî• COMPLETE ELECTRIC BLUE VERIFICATION
        setTimeout(() => {
            console.log('üîç COMPLETE ELECTRIC VERIFICATION:');
            
            // Check buttons
            const buttons = document.querySelectorAll('button, .btn-primary, .btn-secondary');
            console.log('  - Buttons found:', buttons.length);
            
            // Check icons
            const icons = document.querySelectorAll('.fas, .fab, .infographic-icon i, .contact-icon i');
            console.log('  - Icons found:', icons.length);
            
            // Check cards
            const cards = document.querySelectorAll('.contact-card, .infographic-card');
            console.log('  - Cards found:', cards.length);
            
            // Check avatar
            const avatar = document.querySelector('.profile-photo, .profile-image-futuristic img');
            console.log('  - Avatar found:', !!avatar);
            
            // Force apply styles to buttons
            buttons.forEach(btn => {
                btn.style.background = 'linear-gradient(135deg, #00BFFF 0%, #1E90FF 50%, #00FFFF 100%)';
                btn.style.border = '2px solid #00BFFF';
                btn.style.boxShadow = '0 0 20px #00BFFF';
                btn.style.color = '#ffffff';
            });
            
            // Subtle avatar glow check
            const avatarElements = document.querySelectorAll('.profile-photo, .profile-image-futuristic');
            console.log('üîµ Avatar elements found:', avatarElements.length);
            
            console.log('‚úÖ ALL ELECTRIC EFFECTS APPLIED!');
        }, 2000);
            } catch (error) {
                console.error('‚ùå World-class portfolio error:', error);
            }
        } else {
            console.error('‚ùå Cannot initialize world-class portfolio:', {
                portfolioRoot: !!portfolioRoot,
                React: typeof React,
                ReactDOM: typeof ReactDOM
            });
        }
    </script>

    <style>
        /* Hide scrollbar for webkit browsers */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        
        /* Hide scrollbar for IE, Edge and Firefox */
        .scrollbar-hide {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        
        /* Custom volume slider styles */
        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            background: transparent;
        }
        
        input[type="range"]::-webkit-slider-track {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 12px;
            height: 12px;
            background: #00f2fe;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(0, 242, 254, 0.5);
            transition: all 0.3s ease;
        }
        
        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 15px rgba(0, 242, 254, 0.8);
        }
        
        input[type="range"]::-moz-range-track {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
        }
        
        input[type="range"]::-moz-range-thumb {
            border: none;
            width: 12px;
            height: 12px;
            background: #00f2fe;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(0, 242, 254, 0.5);
            transition: all 0.3s ease;
        }
        
        input[type="range"]::-moz-range-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 15px rgba(0, 242, 254, 0.8);
        }
    </style>

    <!-- Hero Video Controls JavaScript -->
    <script>
        // Formularz kontaktowy ‚Äì integracja z Formspree (lub innym endpointem)
        document.addEventListener('DOMContentLoaded', function(){
          const form = document.getElementById('contact-form');
          if (!form) return;
          // Wstaw sw√≥j endpoint Formspree ni≈ºej (np. https://formspree.io/f/xxxxx)
          const FORMSPREE_ENDPOINT = form.getAttribute('data-endpoint') || '';
          // Fallback: ustaw action/method dla POST, gdyby JS by≈Ç wy≈ÇƒÖczony
          form.method = 'POST';
          if (FORMSPREE_ENDPOINT) {
            form.action = FORMSPREE_ENDPOINT;
          }
          if (!FORMSPREE_ENDPOINT) {
            console.warn('Contact form: brak endpointu. Ustaw atrybut data-endpoint na formularzu.');
          }
          const statusEl = document.getElementById('contact-status');

          form.addEventListener('submit', async (e) => {
            e.preventDefault();
            if (!FORMSPREE_ENDPOINT) { statusEl.textContent = 'Brak konfiguracji formularza.'; return; }
            statusEl.textContent = 'Wysy≈Çam‚Ä¶';

            const formData = new FormData(form);
            // Honeypot
            if (formData.get('_honey')) { statusEl.textContent = 'Zablokowano spam.'; return; }

            try {
              const res = await fetch(FORMSPREE_ENDPOINT, {
                method: 'POST',
                headers: { 'Accept': 'application/json' },
                body: formData
              });
              if (res.ok) {
                statusEl.textContent = 'Dziƒôkujƒô! Wiadomo≈õƒá zosta≈Ça wys≈Çana ‚úÖ';
                form.reset();
              } else {
                statusEl.textContent = 'Nie uda≈Ço siƒô wys≈Çaƒá. Spr√≥buj ponownie.';
              }
            } catch (err) {
              statusEl.textContent = 'B≈ÇƒÖd sieci. Spr√≥buj ponownie.';
            }
          });
        });

        document.addEventListener('DOMContentLoaded', function() {
            console.log('üé¨ Initializing Hero Video Controls...');
            
            const heroVideo = document.getElementById('hero-video');
            const heroControls = document.getElementById('hero-controls');
            const heroContainer = document.getElementById('hero-video-container');
            const playBtn = document.getElementById('hero-play-btn');
            const playIcon = document.getElementById('hero-play-icon');
            const volumeSlider = document.getElementById('hero-volume-slider');
            const seekBar = document.querySelector('.hero-seek-bar');
            const seekProgress = document.getElementById('hero-seek-progress');
            const seekHandle = document.getElementById('hero-seek-handle');
            const currentTimeSpan = document.getElementById('hero-current-time');
            const durationSpan = document.getElementById('hero-duration');
            
            if (!heroVideo) {
                console.error('‚ùå Hero video not found');
                return;
            }
            
            let isPlaying = false;
            let isDragging = false;
            
            // Format time helper
            function formatTime(seconds) {
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins}:${secs.toString().padStart(2, '0')}`;
            }
            
            // Show/hide controls on hover
            heroContainer.addEventListener('mouseenter', () => {
                heroControls.style.opacity = '1';
            });
            
            heroContainer.addEventListener('mouseleave', () => {
                heroControls.style.opacity = '0';
            });
            
            // Play/Pause functionality
            playBtn.addEventListener('click', () => {
                if (isPlaying) {
                    heroVideo.pause();
                } else {
                    heroVideo.play();
                }
            });
            
            heroVideo.addEventListener('play', () => {
                isPlaying = true;
                playIcon.className = 'fas fa-pause';
                playIcon.style.marginLeft = '0';
            });
            
            heroVideo.addEventListener('pause', () => {
                isPlaying = false;
                playIcon.className = 'fas fa-play';
                playIcon.style.marginLeft = '4px';
            });
            
            // Volume control
            volumeSlider.addEventListener('input', (e) => {
                heroVideo.volume = e.target.value;
            });
            
            // Set initial volume
            heroVideo.volume = 0.5;
            
            // Duration and time updates
            heroVideo.addEventListener('loadedmetadata', () => {
                durationSpan.textContent = formatTime(heroVideo.duration);
            });
            
            heroVideo.addEventListener('timeupdate', () => {
                if (!isDragging) {
                    const progress = (heroVideo.currentTime / heroVideo.duration) * 100;
                    seekProgress.style.width = progress + '%';
                    seekHandle.style.left = progress + '%';
                    currentTimeSpan.textContent = formatTime(heroVideo.currentTime);
                }
            });
            
            // Seek functionality
            function updateSeek(e) {
                const rect = seekBar.getBoundingClientRect();
                const percent = (e.clientX - rect.left) / rect.width;
                const time = percent * heroVideo.duration;
                
                if (time >= 0 && time <= heroVideo.duration) {
                    heroVideo.currentTime = time;
                    const progress = percent * 100;
                    seekProgress.style.width = progress + '%';
                    seekHandle.style.left = progress + '%';
                    currentTimeSpan.textContent = formatTime(time);
                }
            }
            
            seekBar.addEventListener('click', updateSeek);
            
            // Drag functionality for seek handle
            seekHandle.addEventListener('mousedown', (e) => {
                isDragging = true;
                e.preventDefault();
            });
            
            document.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    updateSeek(e);
                }
            });
            
            document.addEventListener('mouseup', () => {
                isDragging = false;
            });
            
            // üéØ STABLE HOVER EFFECTS - NO TRANSFORM, NO LATANIE!
            playBtn.addEventListener('mouseenter', (e) => {
                e.target.style.transform = 'none';
                e.target.style.background = 'rgba(0, 191, 255, 0.3)';
                e.target.style.borderColor = 'rgba(0, 191, 255, 0.8)';
                e.target.style.boxShadow = '0 0 30px rgba(0, 191, 255, 0.6)';
            });
            
            playBtn.addEventListener('mouseleave', (e) => {
                e.target.style.transform = 'none';
                e.target.style.background = 'rgba(0, 0, 0, 0.8)';
                e.target.style.borderColor = 'rgba(0, 191, 255, 0.5)';
                e.target.style.boxShadow = 'none';
            });
            
            console.log('‚úÖ Hero Video Controls initialized successfully!');
        });
        
        // üöÄ VISIONARY 300 IQ COSMIC MASTERPIECE - BEYOND APPLE VISION PRO
        class VisionaryCosmicMasterpiece {
            constructor() {
                try {
                    // CORE INITIALIZATION
                    this.canvas = document.getElementById('cosmic-canvas');
                    if (!this.canvas) throw new Error('Canvas not found');
                    
                    this.ctx = this.canvas.getContext('2d');
                    if (!this.ctx) throw new Error('2D context unavailable');
                    
                    // PERFORMANCE & STATE
                    this.time = 0;
                    this.deltaTime = 0;
                    this.lastTime = performance.now();
                    this.animationId = null;
                    this.frameCount = 0;
                    
                    // INTERACTION STATE
                    this.mouse = { x: 0, y: 0, velocity: { x: 0, y: 0 }, pressure: 0 };
                    this.scroll = { y: 0, velocity: 0, progress: 0 };
                    this.touch = { active: false, points: [] };
                    
                    // VISUAL LAYERS (Z-DEPTH SYSTEM)
                    this.layers = {
                        background: { depth: 0, parallax: 0 },
                        nebula: { depth: 0.1, parallax: 0.05 },
                        deepStars: { depth: 0.3, parallax: 0.15 },
                        particles: { depth: 0.5, parallax: 0.25 },
                        constellations: { depth: 0.7, parallax: 0.35 },
                        aurora: { depth: 0.9, parallax: 0.45 },
                        foregroundParticles: { depth: 1.0, parallax: 0.5 }
                    };
                    
                    // GOLDEN RATIO & FIBONACCI
                    this.phi = (1 + Math.sqrt(5)) / 2; // Golden ratio
                    this.fibSequence = [1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89];
                    
                    // INITIALIZE ALL SYSTEMS
                    this.setupCanvas();
                    this.initializeCosmicSystems();
                    this.setupAdvancedEvents();
                    this.startRenderLoop();
                    
                    console.log('üöÄ VISIONARY COSMIC MASTERPIECE ACTIVATED!');
                } catch (error) {
                    console.error('üí• Critical Error:', error);
                    this.initializeFallback();
                }
            }
            
            initializeFallback() {
                document.body.style.background = '#000000';
                document.body.style.backgroundColor = '#000000';
                document.body.style.backgroundImage = 'none';
                document.body.style.backgroundSize = '400% 400%';
                document.body.style.animation = 'fallbackPulse 20s ease-in-out infinite';
            }
            
            setupCanvas() {
                // HIGH-DPI SUPPORT
                const dpr = window.devicePixelRatio || 1;
                const rect = this.canvas.getBoundingClientRect();
                
                this.canvas.width = rect.width * dpr;
                this.canvas.height = rect.height * dpr;
                this.canvas.style.width = rect.width + 'px';
                this.canvas.style.height = rect.height + 'px';
                
                this.ctx.scale(dpr, dpr);
                this.ctx.imageSmoothingEnabled = true;
                this.ctx.imageSmoothingQuality = 'high';
                
                // CANVAS PROPERTIES
                this.w = rect.width;
                this.h = rect.height;
                this.centerX = this.w / 2;
                this.centerY = this.h / 2;
            }
            
            initializeCosmicSystems() {
                // TESLA-INSPIRED GRID SYSTEM
                this.createQuantumGrid();
                
                // SPACEX-INSPIRED ORBITAL MECHANICS
                this.createOrbitalBodies();
                
                // APPLE-INSPIRED GLASS MORPHISM PARTICLES
                this.createGlassMorphismParticles();
                
                // NETFLIX-INSPIRED NARRATIVE CONSTELLATIONS
                this.createNarrativeConstellations();
                
                // ADOBE-INSPIRED PROCEDURAL NEBULA
                this.createProceduralNebula();
                
                // AWWWARDS-INSPIRED PHYSICS ENGINE
                this.initializePhysicsEngine();
            }
            
            createQuantumGrid() {
                this.quantumGrid = {
                    nodes: [],
                    connections: [],
                    energy: 0,
                    pulsePhase: 0
                };
                
                // FIBONACCI-BASED GRID POSITIONING
                const gridSize = this.fibSequence[6]; // 13
                for (let x = 0; x < gridSize; x++) {
                    for (let y = 0; y < gridSize; y++) {
                        if (Math.random() > 0.7) { // Sparse grid
                            this.quantumGrid.nodes.push({
                                x: (x / gridSize) * this.w,
                                y: (y / gridSize) * this.h,
                                energy: Math.random(),
                                connections: [],
                                pulsePhase: Math.random() * Math.PI * 2,
                                baseSize: 1 + Math.random() * 2
                            });
                        }
                    }
                }
                
                // CREATE QUANTUM CONNECTIONS
                this.quantumGrid.nodes.forEach((node, i) => {
                    this.quantumGrid.nodes.forEach((otherNode, j) => {
                        if (i !== j) {
                            const dist = Math.hypot(node.x - otherNode.x, node.y - otherNode.y);
                            if (dist < 150 && Math.random() > 0.8) {
                                node.connections.push(j);
                            }
                        }
                    });
                });
            }
            
            createOrbitalBodies() {
                this.orbitalSystem = {
                    bodies: [],
                    gravitationalWells: []
                };
                
                // MAJOR GRAVITATIONAL WELLS (RULE OF THIRDS)
                const wells = [
                    { x: this.w / 3, y: this.h / 3, mass: 1000, influence: 200 },
                    { x: (2 * this.w) / 3, y: (2 * this.h) / 3, mass: 800, influence: 180 },
                    { x: this.w / 6, y: (5 * this.h) / 6, mass: 600, influence: 160 }
                ];
                
                this.orbitalSystem.gravitationalWells = wells;
                
                // ORBITAL BODIES
                for (let i = 0; i < 50; i++) {
                    const well = wells[Math.floor(Math.random() * wells.length)];
                    const angle = Math.random() * Math.PI * 2;
                    const radius = 50 + Math.random() * 100;
                    
                    this.orbitalSystem.bodies.push({
                        x: well.x + Math.cos(angle) * radius,
                        y: well.y + Math.sin(angle) * radius,
                        vx: Math.sin(angle) * 0.5,
                        vy: -Math.cos(angle) * 0.5,
                        mass: 1 + Math.random() * 3,
                        trail: [],
                        wellIndex: wells.indexOf(well),
                        hue: 200 + Math.random() * 160
                    });
                }
            }
            
            createGlassMorphismParticles() {
                this.glassParticles = [];
                
                for (let i = 0; i < 200; i++) {
                    this.glassParticles.push({
                        x: Math.random() * this.w,
                        y: Math.random() * this.h,
                        z: Math.random(), // Depth
                        vx: (Math.random() - 0.5) * 0.5,
                        vy: (Math.random() - 0.5) * 0.5,
                        vz: (Math.random() - 0.5) * 0.1,
                        size: 2 + Math.random() * 6,
                        opacity: 0.1 + Math.random() * 0.3,
                        blur: 10 + Math.random() * 20,
                        hue: 200 + Math.random() * 60,
                        pulsePhase: Math.random() * Math.PI * 2,
                        interactionRadius: 80 + Math.random() * 40
                    });
                }
            }
            
            createNarrativeConstellations() {
                this.constellations = [
                    // FIBONACCI SPIRAL CONSTELLATION
                    {
                        name: 'Digital Genesis',
                        stars: this.generateFibonacciStars(this.centerX - 200, this.centerY - 100),
                        story: 'birth',
                        primaryHue: 45, // Gold
                        energy: 0
                    },
                    // GOLDEN RATIO CONSTELLATION
                    {
                        name: 'Quantum Harmony',
                        stars: this.generateGoldenRatioStars(this.centerX + 150, this.centerY - 80),
                        story: 'growth',
                        primaryHue: 200, // Blue
                        energy: 0
                    },
                    // SACRED GEOMETRY CONSTELLATION
                    {
                        name: 'Infinite Potential',
                        stars: this.generateSacredGeometryStars(this.centerX, this.centerY + 120),
                        story: 'transcendence',
                        primaryHue: 280, // Purple
                        energy: 0
                    }
                ];
            }
            
            generateFibonacciStars(centerX, centerY) {
                const stars = [];
                const count = this.fibSequence[7]; // 21 stars
                
                for (let i = 0; i < count; i++) {
                    const angle = i * 2.4; // Golden angle approximation
                    const radius = Math.sqrt(i) * 8;
                    
                    stars.push({
                        x: centerX + Math.cos(angle) * radius,
                        y: centerY + Math.sin(angle) * radius,
                        size: 2 + (i % 5),
                        brightness: 0.5 + Math.random() * 0.5,
                        pulsePhase: (i / count) * Math.PI * 2,
                        type: i % this.fibSequence[4] === 0 ? 'major' : 'minor' // Every 5th is major
                    });
                }
                
                return stars;
            }
            
            generateGoldenRatioStars(centerX, centerY) {
                const stars = [];
                const segments = 8;
                
                for (let i = 0; i < segments; i++) {
                    const angle = (i / segments) * Math.PI * 2;
                    const radius = 60 * Math.pow(this.phi, i / segments);
                    
                    stars.push({
                        x: centerX + Math.cos(angle) * (radius % 120),
                        y: centerY + Math.sin(angle) * (radius % 120),
                        size: 1 + (i % 3),
                        brightness: 0.7 + Math.random() * 0.3,
                        pulsePhase: angle,
                        type: i % 2 === 0 ? 'major' : 'minor'
                    });
                }
                
                return stars;
            }
            
            generateSacredGeometryStars(centerX, centerY) {
                const stars = [];
                const sides = 6; // Hexagon
                const layers = 3;
                
                for (let layer = 1; layer <= layers; layer++) {
                    for (let i = 0; i < sides; i++) {
                        const angle = (i / sides) * Math.PI * 2;
                        const radius = layer * 40;
                        
                        stars.push({
                            x: centerX + Math.cos(angle) * radius,
                            y: centerY + Math.sin(angle) * radius,
                            size: 4 - layer,
                            brightness: 1 - (layer * 0.2),
                            pulsePhase: angle + layer,
                            type: layer === 1 ? 'major' : 'minor'
                        });
                    }
                }
                
                return stars;
            }
            
            createProceduralNebula() {
                this.nebula = {
                    clouds: [],
                    colorShifts: [],
                    energyWaves: []
                };
                
                // PROCEDURAL CLOUD GENERATION
                for (let i = 0; i < 15; i++) {
                    this.nebula.clouds.push({
                        x: Math.random() * this.w,
                        y: Math.random() * this.h,
                        scale: 0.5 + Math.random() * 2,
                        rotation: Math.random() * Math.PI * 2,
                        rotationSpeed: (Math.random() - 0.5) * 0.01,
                        opacity: 0.1 + Math.random() * 0.2,
                        hue: 220 + Math.random() * 60,
                        saturation: 30 + Math.random() * 40,
                        noiseOffset: Math.random() * 1000
                    });
                }
            }
            
            initializePhysicsEngine() {
                this.physics = {
                    gravity: 0.1,
                    friction: 0.98,
                    attraction: 0.02,
                    repulsion: 50,
                    timeScale: 1
                };
            }
            
            createParticles() {
                this.particles = [];
                for (let i = 0; i < 1000; i++) {
                    this.particles.push({
                        x: Math.random() * this.canvas.width,
                        y: Math.random() * this.canvas.height,
                        vx: (Math.random() - 0.5) * 0.5,
                        vy: (Math.random() - 0.5) * 0.5,
                        size: Math.random() * 2 + 0.5,
                        brightness: Math.random(),
                        phase: Math.random() * Math.PI * 2,
                        layer: Math.random() * 3 // Paralaksa
                    });
                }
            }
            
            createConstellations() {
                this.constellations = [
                    // WIELKA NIED≈πWIEDZICA
                    {
                        name: 'Ursa Major',
                        stars: [
                            {x: 0.15, y: 0.25, magnitude: 4, color: '#ffffff'},
                            {x: 0.18, y: 0.22, magnitude: 3, color: '#ffffcc'},
                            {x: 0.22, y: 0.24, magnitude: 4, color: '#ffffff'},
                            {x: 0.25, y: 0.26, magnitude: 3, color: '#ccffff'},
                            {x: 0.28, y: 0.28, magnitude: 4, color: '#ffffff'},
                            {x: 0.25, y: 0.32, magnitude: 3, color: '#ffffcc'},
                            {x: 0.22, y: 0.35, magnitude: 4, color: '#ffffff'}
                        ],
                        connections: [[0,1], [1,2], [2,3], [3,4], [4,5], [5,6]]
                    },
                    // ORION
                    {
                        name: 'Orion',
                        stars: [
                            {x: 0.65, y: 0.3, magnitude: 5, color: '#ffcccc'},
                            {x: 0.68, y: 0.25, magnitude: 4, color: '#ffffff'},
                            {x: 0.72, y: 0.28, magnitude: 3, color: '#ccffff'},
                            {x: 0.69, y: 0.35, magnitude: 4, color: '#ffffcc'},
                            {x: 0.66, y: 0.4, magnitude: 3, color: '#ffffff'},
                            {x: 0.71, y: 0.42, magnitude: 4, color: '#ffcccc'}
                        ],
                        connections: [[0,1], [1,2], [0,3], [3,4], [4,5], [2,5]]
                    },
                    // KASYPEJA
                    {
                        name: 'Cassiopeia',
                        stars: [
                            {x: 0.8, y: 0.15, magnitude: 4, color: '#ffffff'},
                            {x: 0.83, y: 0.18, magnitude: 3, color: '#ffffcc'},
                            {x: 0.86, y: 0.16, magnitude: 4, color: '#ccffff'},
                            {x: 0.89, y: 0.19, magnitude: 3, color: '#ffffff'},
                            {x: 0.92, y: 0.17, magnitude: 4, color: '#ffcccc'}
                        ],
                        connections: [[0,1], [1,2], [2,3], [3,4]]
                    }
                ];
            }
            
            setupEvents() {
                window.addEventListener('mousemove', (e) => {
                    this.mouseX = e.clientX;
                    this.mouseY = e.clientY;
                });
                
                window.addEventListener('resize', () => {
                    this.setupCanvas();
                });
            }
            
            drawCosmicBackground() {
                // GRADIENT T≈ÅA
                const gradient = this.ctx.createRadialGradient(
                    this.canvas.width/2, this.canvas.height/2, 0,
                    this.canvas.width/2, this.canvas.height/2, this.canvas.width
                );
                gradient.addColorStop(0, '#000011');
                gradient.addColorStop(0.3, '#001122');
                gradient.addColorStop(0.6, '#000033');
                gradient.addColorStop(1, '#000000');
                
                this.ctx.fillStyle = gradient;
                this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
            }
            
            drawParticles() {
                this.particles.forEach(particle => {
                    // PARALAKSA
                    const parallaxX = (this.mouseX - this.canvas.width/2) * particle.layer * 0.001;
                    const parallaxY = (this.mouseY - this.canvas.height/2) * particle.layer * 0.001;
                    
                    // RUCH
                    particle.x += particle.vx + parallaxX;
                    particle.y += particle.vy + parallaxY;
                    
                    // ODBICIA
                    if (particle.x < 0 || particle.x > this.canvas.width) particle.vx *= -1;
                    if (particle.y < 0 || particle.y > this.canvas.height) particle.vy *= -1;
                    
                    // MIGOTANIE
                    const twinkle = 0.3 + 0.7 * Math.sin(this.time * 2 + particle.phase);
                    
                    // REAKCJA NA MYSZ
                    const mouseDistance = Math.sqrt(
                        Math.pow(particle.x - this.mouseX, 2) + 
                        Math.pow(particle.y - this.mouseY, 2)
                    );
                    const mouseEffect = Math.max(0, 1 - mouseDistance / 200);
                    
                    // RYSOWANIE
                    this.ctx.save();
                    this.ctx.globalAlpha = (particle.brightness * twinkle + mouseEffect * 0.5);
                    this.ctx.fillStyle = '#ffffff';
                    this.ctx.shadowBlur = 5 + mouseEffect * 10;
                    this.ctx.shadowColor = '#ffffff';
                    
                    this.ctx.beginPath();
                    this.ctx.arc(particle.x, particle.y, particle.size + mouseEffect, 0, Math.PI * 2);
                    this.ctx.fill();
                    this.ctx.restore();
                });
            }
            
            drawConstellations() {
                this.constellations.forEach(constellation => {
                    // RYSUJ GWIAZDY
                    constellation.stars.forEach((star, index) => {
                        const x = star.x * this.canvas.width;
                        const y = star.y * this.canvas.height;
                        const pulse = 0.8 + 0.2 * Math.sin(this.time + index);
                        
                        this.ctx.save();
                        this.ctx.globalAlpha = pulse;
                        this.ctx.fillStyle = star.color;
                        this.ctx.shadowBlur = star.magnitude * 3;
                        this.ctx.shadowColor = star.color;
                        
                        this.ctx.beginPath();
                        this.ctx.arc(x, y, star.magnitude, 0, Math.PI * 2);
                        this.ctx.fill();
                        this.ctx.restore();
                    });
                    
                    // RYSUJ PO≈ÅƒÑCZENIA
                    constellation.connections.forEach(connection => {
                        const star1 = constellation.stars[connection[0]];
                        const star2 = constellation.stars[connection[1]];
                        
                        const x1 = star1.x * this.canvas.width;
                        const y1 = star1.y * this.canvas.height;
                        const x2 = star2.x * this.canvas.width;
                        const y2 = star2.y * this.canvas.height;
                        
                        const lineGradient = this.ctx.createLinearGradient(x1, y1, x2, y2);
                        lineGradient.addColorStop(0, star1.color + '80');
                        lineGradient.addColorStop(1, star2.color + '80');
                        
                        this.ctx.save();
                        this.ctx.strokeStyle = lineGradient;
                        this.ctx.lineWidth = 1;
                        this.ctx.shadowBlur = 3;
                        this.ctx.shadowColor = '#ffffff';
                        
                        this.ctx.beginPath();
                        this.ctx.moveTo(x1, y1);
                        this.ctx.lineTo(x2, y2);
                        this.ctx.stroke();
                        this.ctx.restore();
                    });
                });
            }
            
            drawAurora() {
                const auroraGradient = this.ctx.createLinearGradient(0, 0, 0, this.canvas.height);
                const intensity = 0.15 * Math.sin(this.time * 0.5);
                
                auroraGradient.addColorStop(0, `rgba(0, 255, 255, ${intensity})`);
                auroraGradient.addColorStop(0.3, `rgba(255, 0, 255, ${intensity * 0.7})`);
                auroraGradient.addColorStop(0.7, `rgba(255, 255, 0, ${intensity * 0.5})`);
                auroraGradient.addColorStop(1, `rgba(0, 255, 0, ${intensity * 0.3})`);
                
                this.ctx.save();
                this.ctx.globalAlpha = 0.4;
                this.ctx.fillStyle = auroraGradient;
                this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
                this.ctx.restore();
            }
            
            drawEnergyWaves() {
                if (Math.sin(this.time * 0.1) > 0.8) {
                    for (let i = 0; i < 3; i++) {
                        const waveGradient = this.ctx.createRadialGradient(
                            this.canvas.width/2, this.canvas.height/2, 0,
                            this.canvas.width/2, this.canvas.height/2, this.canvas.width * (0.5 + i * 0.3)
                        );
                        waveGradient.addColorStop(0, 'rgba(255,255,255,0)');
                        waveGradient.addColorStop(0.8, 'rgba(0,255,255,0.1)');
                        waveGradient.addColorStop(1, 'rgba(255,0,255,0)');
                        
                        this.ctx.save();
                        this.ctx.globalAlpha = 0.3 * Math.sin(this.time * 2 + i);
                        this.ctx.strokeStyle = waveGradient;
                        this.ctx.lineWidth = 2;
                        
                        this.ctx.beginPath();
                        this.ctx.arc(this.canvas.width/2, this.canvas.height/2, 
                                   (this.time * 50 + i * 100) % this.canvas.width, 0, Math.PI * 2);
                        this.ctx.stroke();
                        this.ctx.restore();
                    }
                }
            }
            
            animate() {
                try {
                    this.time += 0.016;
                    
                    // SPRAWD≈π CZY CANVAS NADAL ISTNIEJE
                    if (!this.canvas || !this.ctx) {
                        throw new Error('Canvas lub context zosta≈Ç utracony!');
                    }
                    
                    this.drawCosmicBackground();
                    this.drawParticles();
                    this.drawConstellations();
                    this.drawAurora();
                    this.drawEnergyWaves();
                    
                    // Zapisz ID animacji do p√≥≈∫niejszego czyszczenia
                    this.animationId = requestAnimationFrame(() => this.animate());
                    
                    // Co 60 klatek (1 sekunda) wypisz debug
                    if (Math.floor(this.time * 60) % 60 === 0) {
                        console.log('üé¨ Animation running, time:', this.time.toFixed(2));
                    }
                } catch (error) {
                    alert('üí• B≈ÅƒÑD w animacji: ' + error.message);
                    console.error('üí• Animation Error:', error);
                    this.createFallbackBackground();
                }
            }
            
            destroy() {
                if (this.animationId) {
                    cancelAnimationFrame(this.animationId);
                    this.animationId = null;
                }
                console.log('üóëÔ∏è Cosmic background destroyed');
            }
        }
        
        VisionaryCosmicMasterpiece.prototype.setupAdvancedEvents = function() {
            // MOUSE TRACKING WITH VELOCITY
            let lastMouseTime = performance.now();
            this.canvas.addEventListener('mousemove', (e) => {
                const now = performance.now();
                const dt = now - lastMouseTime;
                lastMouseTime = now;
                
                const rect = this.canvas.getBoundingClientRect();
                const newX = e.clientX - rect.left;
                const newY = e.clientY - rect.top;
                
                this.mouse.velocity.x = (newX - this.mouse.x) / dt * 16.67; // Normalize to 60fps
                this.mouse.velocity.y = (newY - this.mouse.y) / dt * 16.67;
                this.mouse.x = newX;
                this.mouse.y = newY;
                this.mouse.pressure = Math.min(Math.hypot(this.mouse.velocity.x, this.mouse.velocity.y) / 10, 1);
            });
            
            // SCROLL INTEGRATION
            window.addEventListener('scroll', () => {
                const newScrollY = window.pageYOffset;
                this.scroll.velocity = newScrollY - this.scroll.y;
                this.scroll.y = newScrollY;
                this.scroll.progress = newScrollY / (document.body.scrollHeight - window.innerHeight);
            });
            
            // TOUCH SUPPORT
            this.canvas.addEventListener('touchmove', (e) => {
                e.preventDefault();
                this.touch.active = true;
                this.touch.points = Array.from(e.touches).map(touch => ({
                    x: touch.clientX - this.canvas.getBoundingClientRect().left,
                    y: touch.clientY - this.canvas.getBoundingClientRect().top
                }));
            });
            
            // RESIZE WITH DEBOUNCE
            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    this.setupCanvas();
                    this.initializeCosmicSystems();
                }, 100);
            });
        };
        
        VisionaryCosmicMasterpiece.prototype.startRenderLoop = function() {
            const render = (currentTime) => {
                // PERFORMANCE TRACKING
                this.deltaTime = currentTime - this.lastTime;
                this.lastTime = currentTime;
                this.frameCount++;
                
                // ADAPTIVE QUALITY
                if (this.frameCount % 60 === 0) {
                    const fps = 1000 / (this.deltaTime || 16.67);
                    if (fps < 30) {
                        this.adaptQuality('reduce');
                    } else if (fps > 55) {
                        this.adaptQuality('enhance');
                    }
                }
                
                // UPDATE SYSTEMS
                this.updatePhysics();
                this.updateInteractions();
                this.updateNarrativeFlow();
                
                // RENDER LAYERS
                this.renderMasterpiece();
                
                this.animationId = requestAnimationFrame(render);
            };
            
            this.animationId = requestAnimationFrame(render);
        };
        
        VisionaryCosmicMasterpiece.prototype.updatePhysics = function() {
            this.time += this.deltaTime * 0.001;
            
            // UPDATE ORBITAL MECHANICS
            this.orbitalSystem.bodies.forEach(body => {
                const well = this.orbitalSystem.gravitationalWells[body.wellIndex];
                const dx = well.x - body.x;
                const dy = well.y - body.y;
                const distance = Math.hypot(dx, dy);
                const force = well.mass / (distance * distance + 100);
                
                body.vx += (dx / distance) * force * 0.001;
                body.vy += (dy / distance) * force * 0.001;
                
                body.vx *= this.physics.friction;
                body.vy *= this.physics.friction;
                
                body.x += body.vx;
                body.y += body.vy;
                
                // TRAIL SYSTEM
                body.trail.push({ x: body.x, y: body.y, time: this.time });
                if (body.trail.length > 20) body.trail.shift();
            });
            
            // UPDATE GLASS MORPHISM PARTICLES
            this.glassParticles.forEach(particle => {
                particle.x += particle.vx;
                particle.y += particle.vy;
                particle.z += particle.vz;
                
                // BOUNDARIES WITH SOFT BOUNCE
                if (particle.x < 0 || particle.x > this.w) particle.vx *= -0.8;
                if (particle.y < 0 || particle.y > this.h) particle.vy *= -0.8;
                if (particle.z < 0 || particle.z > 1) particle.vz *= -0.8;
                
                // MOUSE INTERACTION
                const dx = this.mouse.x - particle.x;
                const dy = this.mouse.y - particle.y;
                const distance = Math.hypot(dx, dy);
                
                if (distance < particle.interactionRadius) {
                    const force = (1 - distance / particle.interactionRadius) * 0.1;
                    particle.vx += (dx / distance) * force * this.mouse.pressure;
                    particle.vy += (dy / distance) * force * this.mouse.pressure;
                }
            });
            
            // UPDATE QUANTUM GRID
            this.quantumGrid.nodes.forEach(node => {
                node.energy = 0.5 + 0.5 * Math.sin(this.time + node.pulsePhase);
            });
        };
        
        VisionaryCosmicMasterpiece.prototype.updateInteractions = function() {
            // CONSTELLATION ENERGY BASED ON MOUSE PROXIMITY
            this.constellations.forEach(constellation => {
                let totalEnergy = 0;
                constellation.stars.forEach(star => {
                    const distance = Math.hypot(this.mouse.x - star.x, this.mouse.y - star.y);
                    if (distance < 200) {
                        totalEnergy += (200 - distance) / 200;
                    }
                });
                constellation.energy = totalEnergy / constellation.stars.length;
            });
        };
        
        VisionaryCosmicMasterpiece.prototype.renderMasterpiece = function() {
            // CLEAR WITH COSMIC GRADIENT
            const gradient = this.ctx.createRadialGradient(
                this.centerX, this.centerY, 0,
                this.centerX, this.centerY, Math.max(this.w, this.h)
            );
            gradient.addColorStop(0, '#000000');
            gradient.addColorStop(0.3, '#000011');
            gradient.addColorStop(0.6, '#001122');
            gradient.addColorStop(1, '#000000');
            
            this.ctx.fillStyle = gradient;
            this.ctx.fillRect(0, 0, this.w, this.h);
            
            // RENDER EACH LAYER WITH DEPTH
            this.renderNebula();
            this.renderQuantumGrid();
            this.renderOrbitalSystem();
            this.renderNarrativeConstellations();
            this.renderGlassMorphismParticles();
            this.renderEnergySignatures();
        };
        
        VisionaryCosmicMasterpiece.prototype.renderQuantumGrid = function() {
            this.ctx.save();
            
            // RENDER CONNECTIONS
            this.quantumGrid.nodes.forEach(node => {
                node.connections.forEach(connectionIndex => {
                    const other = this.quantumGrid.nodes[connectionIndex];
                    if (!other) return;
                    
                    const energy = (node.energy + other.energy) / 2;
                    const alpha = energy * 0.3;
                    
                    this.ctx.beginPath();
                    this.ctx.moveTo(node.x, node.y);
                    this.ctx.lineTo(other.x, other.y);
                    this.ctx.strokeStyle = `hsla(200, 80%, 70%, ${alpha})`;
                    this.ctx.lineWidth = 0.5;
                    this.ctx.stroke();
                });
            });
            
            // RENDER NODES
            this.quantumGrid.nodes.forEach(node => {
                const size = node.baseSize * (0.5 + node.energy * 0.5);
                const alpha = 0.4 + node.energy * 0.6;
                
                this.ctx.beginPath();
                this.ctx.arc(node.x, node.y, size, 0, Math.PI * 2);
                this.ctx.fillStyle = `hsla(180, 70%, 80%, ${alpha})`;
                this.ctx.shadowBlur = 10;
                this.ctx.shadowColor = `hsla(180, 70%, 80%, ${alpha})`;
                this.ctx.fill();
                this.ctx.shadowBlur = 0;
            });
            
            this.ctx.restore();
        };
        
        VisionaryCosmicMasterpiece.prototype.renderOrbitalSystem = function() {
            this.ctx.save();
            
            // RENDER GRAVITATIONAL WELLS
            this.orbitalSystem.gravitationalWells.forEach(well => {
                const pulse = 0.7 + 0.3 * Math.sin(this.time * 2);
                const gradient = this.ctx.createRadialGradient(
                    well.x, well.y, 0,
                    well.x, well.y, well.influence
                );
                gradient.addColorStop(0, `hsla(45, 100%, 70%, ${0.1 * pulse})`);
                gradient.addColorStop(0.5, `hsla(45, 100%, 50%, ${0.05 * pulse})`);
                gradient.addColorStop(1, 'transparent');
                
                this.ctx.fillStyle = gradient;
                this.ctx.fillRect(
                    well.x - well.influence,
                    well.y - well.influence,
                    well.influence * 2,
                    well.influence * 2
                );
            });
            
            // RENDER ORBITAL BODIES WITH TRAILS
            this.orbitalSystem.bodies.forEach(body => {
                // TRAIL
                if (body.trail.length > 1) {
                    this.ctx.beginPath();
                    this.ctx.moveTo(body.trail[0].x, body.trail[0].y);
                    
                    for (let i = 1; i < body.trail.length; i++) {
                        this.ctx.lineTo(body.trail[i].x, body.trail[i].y);
                    }
                    
                    this.ctx.strokeStyle = `hsla(${body.hue}, 70%, 60%, 0.3)`;
                    this.ctx.lineWidth = 1;
                    this.ctx.stroke();
                }
                
                // BODY
                this.ctx.beginPath();
                this.ctx.arc(body.x, body.y, body.mass, 0, Math.PI * 2);
                this.ctx.fillStyle = `hsla(${body.hue}, 80%, 70%, 0.8)`;
                this.ctx.shadowBlur = 8;
                this.ctx.shadowColor = `hsla(${body.hue}, 80%, 70%, 0.5)`;
                this.ctx.fill();
                this.ctx.shadowBlur = 0;
            });
            
            this.ctx.restore();
        };
        
        VisionaryCosmicMasterpiece.prototype.renderNarrativeConstellations = function() {
            this.ctx.save();
            
            this.constellations.forEach(constellation => {
                const energyBoost = constellation.energy;
                
                // RENDER CONSTELLATION CONNECTIONS
                for (let i = 0; i < constellation.stars.length - 1; i++) {
                    const star1 = constellation.stars[i];
                    const star2 = constellation.stars[i + 1];
                    
                    if (star1.type === 'major' || star2.type === 'major') {
                        this.ctx.beginPath();
                        this.ctx.moveTo(star1.x, star1.y);
                        this.ctx.lineTo(star2.x, star2.y);
                        
                        const alpha = 0.2 + energyBoost * 0.5;
                        this.ctx.strokeStyle = `hsla(${constellation.primaryHue}, 70%, 70%, ${alpha})`;
                        this.ctx.lineWidth = 1;
                        this.ctx.stroke();
                    }
                }
                
                // RENDER STARS
                constellation.stars.forEach((star, index) => {
                    const pulse = 0.7 + 0.3 * Math.sin(this.time * 2 + star.pulsePhase);
                    const size = star.size * (1 + energyBoost * 0.5) * pulse;
                    const brightness = star.brightness * (0.8 + energyBoost * 0.2);
                    
                    this.ctx.beginPath();
                    this.ctx.arc(star.x, star.y, size, 0, Math.PI * 2);
                    
                    if (star.type === 'major') {
                        this.ctx.fillStyle = `hsla(${constellation.primaryHue}, 90%, ${80 * brightness}%, ${0.9 + energyBoost * 0.1})`;
                        this.ctx.shadowBlur = 15;
                        this.ctx.shadowColor = `hsla(${constellation.primaryHue}, 90%, 70%, 0.8)`;
                    } else {
                        this.ctx.fillStyle = `hsla(${constellation.primaryHue}, 60%, ${60 * brightness}%, ${0.7 + energyBoost * 0.1})`;
                        this.ctx.shadowBlur = 8;
                        this.ctx.shadowColor = `hsla(${constellation.primaryHue}, 60%, 60%, 0.4)`;
                    }
                    
                    this.ctx.fill();
                    this.ctx.shadowBlur = 0;
                });
            });
            
            this.ctx.restore();
        };
        
        VisionaryCosmicMasterpiece.prototype.renderGlassMorphismParticles = function() {
            this.ctx.save();
            
            this.glassParticles.forEach(particle => {
                const depth = particle.z;
                const parallaxX = particle.x + (this.mouse.x - this.centerX) * depth * 0.1;
                const parallaxY = particle.y + (this.mouse.y - this.centerY) * depth * 0.1;
                
                const pulse = 0.8 + 0.2 * Math.sin(this.time * 3 + particle.pulsePhase);
                const size = particle.size * pulse * (0.5 + depth * 0.5);
                const alpha = particle.opacity * pulse;
                
                // GLASS MORPHISM EFFECT
                this.ctx.beginPath();
                this.ctx.arc(parallaxX, parallaxY, size, 0, Math.PI * 2);
                
                // GRADIENT FILL
                const gradient = this.ctx.createRadialGradient(
                    parallaxX, parallaxY, 0,
                    parallaxX, parallaxY, size
                );
                gradient.addColorStop(0, `hsla(${particle.hue}, 70%, 80%, ${alpha})`);
                gradient.addColorStop(0.7, `hsla(${particle.hue}, 70%, 60%, ${alpha * 0.5})`);
                gradient.addColorStop(1, 'transparent');
                
                this.ctx.fillStyle = gradient;
                this.ctx.fill();
                
                // SUBTLE GLOW
                this.ctx.shadowBlur = particle.blur;
                this.ctx.shadowColor = `hsla(${particle.hue}, 70%, 70%, ${alpha * 0.3})`;
                this.ctx.fill();
                this.ctx.shadowBlur = 0;
            });
            
            this.ctx.restore();
        };
        
        VisionaryCosmicMasterpiece.prototype.renderEnergySignatures = function() {
            // MOUSE ENERGY RIPPLES
            if (this.mouse.pressure > 0.1) {
                this.ctx.save();
                
                for (let i = 0; i < 3; i++) {
                    const radius = 50 + i * 30 + this.time * 100;
                    const alpha = (1 - this.mouse.pressure) * 0.3 * (1 - i * 0.3);
                    
                    this.ctx.beginPath();
                    this.ctx.arc(this.mouse.x, this.mouse.y, radius % 200, 0, Math.PI * 2);
                    this.ctx.strokeStyle = `hsla(180, 80%, 70%, ${alpha})`;
                    this.ctx.lineWidth = 2;
                    this.ctx.stroke();
                }
                
                this.ctx.restore();
            }
        };
        
        VisionaryCosmicMasterpiece.prototype.renderNebula = function() {
            this.ctx.save();
            
            this.nebula.clouds.forEach(cloud => {
                cloud.rotation += cloud.rotationSpeed;
                
                this.ctx.save();
                this.ctx.translate(cloud.x, cloud.y);
                this.ctx.rotate(cloud.rotation);
                this.ctx.scale(cloud.scale, cloud.scale);
                
                const gradient = this.ctx.createRadialGradient(0, 0, 0, 0, 0, 100);
                gradient.addColorStop(0, `hsla(${cloud.hue}, ${cloud.saturation}%, 60%, ${cloud.opacity})`);
                gradient.addColorStop(0.5, `hsla(${cloud.hue}, ${cloud.saturation}%, 40%, ${cloud.opacity * 0.5})`);
                gradient.addColorStop(1, 'transparent');
                
                this.ctx.fillStyle = gradient;
                this.ctx.fillRect(-100, -100, 200, 200);
                
                this.ctx.restore();
            });
            
            this.ctx.restore();
        };
        
        VisionaryCosmicMasterpiece.prototype.updateNarrativeFlow = function() {
            // STORY PROGRESSION BASED ON TIME AND INTERACTION
            const storyProgress = (this.time * 0.1) % 3; // 3 story phases
            
            this.constellations.forEach((constellation, index) => {
                if (storyProgress >= index && storyProgress < index + 1) {
                    constellation.energy = Math.max(constellation.energy, 0.3);
                }
            });
        };
        
        VisionaryCosmicMasterpiece.prototype.adaptQuality = function(direction) {
            if (direction === 'reduce') {
                // REDUCE PARTICLE COUNT FOR PERFORMANCE
                if (this.glassParticles.length > 50) {
                    this.glassParticles = this.glassParticles.slice(0, this.glassParticles.length - 10);
                }
                if (this.orbitalSystem.bodies.length > 20) {
                    this.orbitalSystem.bodies = this.orbitalSystem.bodies.slice(0, this.orbitalSystem.bodies.length - 5);
                }
            } else if (direction === 'enhance') {
                // ENHANCE QUALITY IF PERFORMANCE ALLOWS
                if (this.glassParticles.length < 200) {
                    for (let i = 0; i < 5; i++) {
                        this.glassParticles.push({
                            x: Math.random() * this.w,
                            y: Math.random() * this.h,
                            z: Math.random(),
                            vx: (Math.random() - 0.5) * 0.5,
                            vy: (Math.random() - 0.5) * 0.5,
                            vz: (Math.random() - 0.5) * 0.1,
                            size: 2 + Math.random() * 6,
                            opacity: 0.1 + Math.random() * 0.3,
                            blur: 10 + Math.random() * 20,
                            hue: 200 + Math.random() * 60,
                            pulsePhase: Math.random() * Math.PI * 2,
                            interactionRadius: 80 + Math.random() * 40
                        });
                    }
                }
            }
        };
        
        // üåå LEGACY COSMIC SYSTEM - DISABLED FOR REVOLUTIONARY ENGINE
        function initCosmicBackground() {
            console.log('üîÑ Legacy cosmic system disabled - Revolutionary Engine active');
            return; // Revolutionary Engine handles everything now
            
            // EXPOSE GLOBALS FOR VERIFICATION
            window.cosmicVerification = {
                canvas: canvas,
                particles: [],
                constellations: [],
                quantumGrid: [],
                orbitalBodies: [],
                mouseTracking: { x: 0, y: 0, velocity: { x: 0, y: 0 }, pressure: 0 },
                scroll: { y: 0, velocity: 0, progress: 0 },
                animationActive: false
            };
            
            try {
                new UltimateProvenSystem();
                console.log('‚úÖ ULTIMATE PROVEN SYSTEM ACTIVATED!');
            } catch (error) {
                console.error('‚ùå Error creating UltimateProvenSystem:', error);
                console.log('üîÑ Trying fallback initialization...');
                
                // FALLBACK SIMPLE COSMIC BACKGROUND
                try {
                    initFallbackCosmicBackground(canvas);
                } catch (fallbackError) {
                    console.error('‚ùå Fallback failed too:', fallbackError);
                    // Last resort - force red canvas for debugging
                    const ctx = canvas.getContext('2d');
                    ctx.fillStyle = 'red';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    console.log('üö® RED CANVAS FALLBACK ACTIVE');
                }
            }
        }
        
        // üîÑ FALLBACK SIMPLE COSMIC BACKGROUND
        function initFallbackCosmicBackground(canvas) {
            console.log('üîÑ Initializing FALLBACK cosmic background...');
            
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const particles = [];
            for (let i = 0; i < 50; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    vx: (Math.random() - 0.5) * 2,
                    vy: (Math.random() - 0.5) * 2,
                    size: Math.random() * 3 + 1
                });
            }
            
            function animateFallback() {
                // Clear canvas
                ctx.fillStyle = '#000022';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Update and draw particles
                particles.forEach(particle => {
                    particle.x += particle.vx;
                    particle.y += particle.vy;
                    
                    if (particle.x < 0 || particle.x > canvas.width) particle.vx *= -1;
                    if (particle.y < 0 || particle.y > canvas.height) particle.vy *= -1;
                    
                    ctx.beginPath();
                    ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
                    ctx.fillStyle = '#4488ff';
                    ctx.fill();
                });
                
                requestAnimationFrame(animateFallback);
            }
            
            animateFallback();
            console.log('‚úÖ FALLBACK cosmic background active');
        }
        
        // üöÄ ULTIMATE PROVEN SYSTEM - NO MORE LIES!
        class UltimateProvenSystem {
            constructor() {
                console.log('üî• UltimateProvenSystem constructor START');
                
                this.canvas = document.getElementById('cosmic-canvas');
                if (!this.canvas) {
                    throw new Error('Canvas not found in constructor');
                }
                
                this.ctx = this.canvas.getContext('2d');
                if (!this.ctx) {
                    throw new Error('Canvas context not available');
                }
                
                console.log('‚úÖ Canvas and context acquired');
                
                // SETUP
                try {
                    this.setupCanvas();
                    console.log('‚úÖ Canvas setup complete');
                } catch (e) {
                    console.error('‚ùå Canvas setup failed:', e);
                    throw e;
                }
                
                try {
                    this.createProvenSystems();
                    console.log('‚úÖ Systems created');
                } catch (e) {
                    console.error('‚ùå System creation failed:', e);
                    throw e;
                }
                
                try {
                    this.setupRealEvents();
                    console.log('‚úÖ Events setup');
                } catch (e) {
                    console.error('‚ùå Events setup failed:', e);
                    throw e;
                }
                
                try {
                    this.startProvenAnimation();
                    console.log('‚úÖ Animation started');
                } catch (e) {
                    console.error('‚ùå Animation start failed:', e);
                    throw e;
                }
                
                // EXPOSE FOR VERIFICATION
                window.cosmicVerification.animationActive = true;
                window.cosmicVerification.particles = this.particles;
                window.cosmicVerification.constellations = this.constellations;
                window.cosmicVerification.quantumGrid = this.quantumGrid;
                window.cosmicVerification.orbitalBodies = this.orbitalBodies;
                
                console.log('üî• ULTIMATE PROVEN SYSTEM READY FOR VERIFICATION!');
            }
            
            setupCanvas() {
                // FORCE CANVAS TO FULL SCREEN
                this.canvas.width = window.innerWidth;
                this.canvas.height = window.innerHeight;
                this.w = window.innerWidth;
                this.h = window.innerHeight;
                this.centerX = this.w / 2;
                this.centerY = this.h / 2;
                this.time = 0;
                
                // HIGH-DPI SUPPORT
                const dpr = window.devicePixelRatio || 1;
                this.canvas.width = this.w * dpr;
                this.canvas.height = this.h * dpr;
                this.canvas.style.width = this.w + 'px';
                this.canvas.style.height = this.h + 'px';
                this.ctx.scale(dpr, dpr);
                
                console.log('üî• Canvas setup:', this.w, 'x', this.h, 'DPR:', dpr);
            }
            
            createProvenSystems() {
                this.createRealGlassMorphismParticles();
                this.createRealQuantumGrid();
                this.createRealConstellations();
            }
            
            createRealGlassMorphismParticles() {
                console.log('üî• Creating Elegant Glass Particles...');
                this.particles = [];
                
                for (let i = 0; i < 150; i++) {
                    this.particles.push({
                        id: i,
                        x: Math.random() * this.w,
                        y: Math.random() * this.h,
                        parallaxY: 0,
                        vx: (Math.random() - 0.5) * 1,
                        vy: (Math.random() - 0.5) * 1,
                        radius: Math.random() * 2 + 1,
                        opacity: Math.random() * 0.4 + 0.1,
                        blur: Math.random() * 4 + 2,
                        hue: 210 + Math.random() * 20, // Elegant blue spectrum
                        targetHue: 210,
                        sizeMultiplier: 1,
                        targetSize: 1,
                        interactionRadius: 120,
                        parallaxDepth: Math.random() * 0.6 + 0.2,
                        layer: Math.floor(Math.random() * 5),
                        pulsePhase: Math.random() * Math.PI * 2
                    });
                }
                console.log('‚úÖ Created', this.particles.length, 'Elegant Glass Particles');
            }
            
            createRealQuantumGrid() {
                console.log('üî• Creating REAL Quantum Grid...');
                this.quantumGrid = [];
                
                const gridSize = 8;
                const spacing = Math.min(this.w, this.h) / gridSize;
                
                for (let x = 0; x < gridSize; x++) {
                    for (let y = 0; y < gridSize; y++) {
                        if (Math.random() > 0.6) { // Sparse grid
                            this.quantumGrid.push({
                                x: x * spacing + spacing/2,
                                y: y * spacing + spacing/2,
                                energy: Math.random(),
                                pulsePhase: Math.random() * Math.PI * 2,
                                connections: [],
                                baseRadius: 3
                            });
                        }
                    }
                }
                
                // Create connections
                this.quantumGrid.forEach((node, i) => {
                    this.quantumGrid.forEach((other, j) => {
                        if (i !== j) {
                            const dist = Math.hypot(node.x - other.x, node.y - other.y);
                            if (dist < spacing * 1.5 && Math.random() > 0.7) {
                                node.connections.push(j);
                            }
                        }
                    });
                });
                
                console.log('‚úÖ Created Quantum Grid with', this.quantumGrid.length, 'nodes');
            }
            
            createRealOrbitalSystem() {
                console.log('üî• Creating REAL Orbital System...');
                this.orbitalBodies = [];
                
                // Create orbital centers (gravitational wells)
                this.gravitationalWells = [
                    { x: this.w * 0.3, y: this.h * 0.3, mass: 1000 },
                    { x: this.w * 0.7, y: this.h * 0.7, mass: 800 },
                    { x: this.w * 0.5, y: this.h * 0.2, mass: 600 }
                ];
                
                // Create orbiting bodies
                this.gravitationalWells.forEach((well, wellIndex) => {
                    for (let i = 0; i < 8; i++) {
                        const angle = (i / 8) * Math.PI * 2;
                        const radius = 60 + i * 15;
                        const speed = Math.sqrt(well.mass / radius) * 0.01;
                        
                        this.orbitalBodies.push({
                            x: well.x + Math.cos(angle) * radius,
                            y: well.y + Math.sin(angle) * radius,
                            angle: angle,
                            radius: radius,
                            speed: speed,
                            wellIndex: wellIndex,
                            trail: [],
                            hue: 180 + wellIndex * 60,
                            size: 2 + Math.random() * 3
                        });
                    }
                });
                
                console.log('‚úÖ Created', this.orbitalBodies.length, 'Orbital Bodies');
            }
            
            createRealConstellations() {
                console.log('üî• Creating Apple-Quality Distributed Constellations...');
                this.constellations = [];
                
                // Create 12 constellations distributed across the entire screen
                const positions = [
                    // Top row
                    { x: 0.2, y: 0.15 }, { x: 0.5, y: 0.1 }, { x: 0.8, y: 0.15 },
                    // Upper middle row
                    { x: 0.1, y: 0.35 }, { x: 0.4, y: 0.3 }, { x: 0.6, y: 0.3 }, { x: 0.9, y: 0.35 },
                    // Lower middle row  
                    { x: 0.15, y: 0.65 }, { x: 0.45, y: 0.7 }, { x: 0.55, y: 0.7 }, { x: 0.85, y: 0.65 },
                    // Bottom row
                    { x: 0.3, y: 0.9 }, { x: 0.7, y: 0.9 }
                ];
                
                positions.forEach((pos, index) => {
                    this.constellations.push({
                        id: index,
                        baseX: this.w * pos.x,
                        baseY: this.h * pos.y,
                        currentX: this.w * pos.x,
                        currentY: this.h * pos.y,
                        color: '#E8F4FD',
                        hue: 210,
                        stars: this.createConstellationStars(this.w * pos.x, this.h * pos.y, 'elegant'),
                        energy: 0.7,
                        floatPhase: Math.random() * Math.PI * 2,
                        floatSpeed: 0.3 + Math.random() * 0.4
                    });
                });
                
                console.log('‚úÖ Created', this.constellations.length, 'Distributed Constellations');
            }
            
            createConstellationStars(centerX, centerY, pattern) {
                const stars = [];
                
                if (pattern === 'elegant') {
                    // Create beautiful, Apple-style constellation
                    const starCount = 5; // Clean, minimal count
                    
                    for (let i = 0; i < starCount; i++) {
                        const angle = (i / starCount) * Math.PI * 2;
                        const radius = 25 + (i % 2) * 15; // Elegant variation
                        const x = centerX + Math.cos(angle) * radius;
                        const y = centerY + Math.sin(angle) * radius;
                        
                        stars.push({
                            baseX: x,
                            baseY: y,
                            x: x,
                            y: y,
                            size: 1.5 + Math.random() * 1,
                            brightness: 0.8 + Math.random() * 0.2,
                            twinklePhase: Math.random() * Math.PI * 2
                        });
                    }
                    
                    // Add elegant connections between nearby stars
                    for (let i = 0; i < stars.length; i++) {
                        stars[i].connections = [];
                        for (let j = i + 1; j < stars.length; j++) {
                            const distance = Math.hypot(stars[i].x - stars[j].x, stars[i].y - stars[j].y);
                            if (distance < 60) {
                                stars[i].connections.push(j);
                            }
                        }
                    }
                }
                
                return stars;
            }
            
            setupRealEvents() {
                console.log('üî• Setting up ADVANCED Event System...');
                
                let lastMouseTime = performance.now();
                let lastScrollTime = performance.now();
                let lastScrollY = 0;
                
                // Mouse tracking with enhanced velocity calculation
                this.canvas.addEventListener('mousemove', (e) => {
                    const now = performance.now();
                    const rect = this.canvas.getBoundingClientRect();
                    const newX = e.clientX - rect.left;
                    const newY = e.clientY - rect.top;
                    
                    // Calculate velocity
                    const dt = now - lastMouseTime;
                    const vx = (newX - window.cosmicVerification.mouseTracking.x) / dt * 16.67;
                    const vy = (newY - window.cosmicVerification.mouseTracking.y) / dt * 16.67;
                    
                    window.cosmicVerification.mouseTracking = {
                        x: newX,
                        y: newY,
                        velocity: { x: vx, y: vy },
                        pressure: Math.min(Math.hypot(vx, vy) / 5, 1)
                    };
                    
                    lastMouseTime = now;
                });
                
                // ADVANCED SCROLL SYSTEM with velocity and section detection
                window.addEventListener('scroll', () => {
                    const now = performance.now();
                    const currentScrollY = window.pageYOffset;
                    const dt = now - lastScrollTime;
                    
                    // Calculate scroll velocity
                    const scrollVelocity = Math.abs(currentScrollY - lastScrollY) / dt * 16.67;
                    
                    // Detect current section
                    const sections = ['start', 'about', 'portfolio', 'contact'];
                    const sectionHeight = window.innerHeight;
                    const currentSection = Math.floor(currentScrollY / sectionHeight);
                    const sectionProgress = (currentScrollY % sectionHeight) / sectionHeight;
                    
                    window.cosmicVerification.scroll = {
                        y: currentScrollY,
                        velocity: scrollVelocity,
                        currentSection: sections[currentSection] || 'start',
                        sectionIndex: currentSection,
                        sectionProgress: sectionProgress,
                        direction: currentScrollY > lastScrollY ? 'down' : 'up'
                    };
                    
                    // Update section-specific effects
                    this.updateSectionEffects();
                    
                    lastScrollY = currentScrollY;
                    lastScrollTime = now;
                });
                
                // Resize handling with debounce
                let resizeTimeout;
                window.addEventListener('resize', () => {
                    clearTimeout(resizeTimeout);
                    resizeTimeout = setTimeout(() => {
                        this.setupCanvas();
                        this.repositionElements();
                    }, 150);
                });
                
                console.log('‚úÖ Advanced event system active');
            }
            
            startProvenAnimation() {
                console.log('üî• Starting PROVEN Animation Loop...');
                
                const animate = () => {
                    this.time += 0.016;
                    
                    this.updateAllSystems();
                    this.renderEverything();
                    
                    requestAnimationFrame(animate);
                };
                
                window.cosmicAnimationLoop = animate;
                animate();
                
                console.log('‚úÖ Animation loop started');
            }
            
            updateAllSystems() {
                const mouse = window.cosmicVerification.mouseTracking;
                const scroll = window.cosmicVerification.scroll || { y: 0, velocity: 0, sectionProgress: 0 };
                
                // GENTLE PARALLAX - no chaos, just smooth floating
                this.particles.forEach((particle, i) => {
                    // Very gentle base movement
                    particle.x += particle.vx * 0.5;
                    particle.y += particle.vy * 0.5;
                    
                    // Smooth parallax movement - no jerky changes
                    const scrollOffset = (scroll.y || 0) * particle.parallaxDepth * 0.1; // Much gentler
                    particle.parallaxY = particle.y - scrollOffset;
                    
                    // Gentle breathing behavior
                    this.updateParticleForSection(particle, scroll);
                    
                    // Soft boundary bounce
                    if (particle.x <= 0 || particle.x >= this.w) particle.vx *= -0.9;
                    if (particle.y <= 0 || particle.y >= this.h) particle.vy *= -0.9;
                    
                    // Very gentle mouse interaction - no aggressive movements
                    const dx = mouse.x - particle.x;
                    const dy = mouse.y - (particle.parallaxY || particle.y);
                    const distance = Math.hypot(dx, dy);
                    
                    if (distance < particle.interactionRadius) {
                        const force = (1 - distance / particle.interactionRadius) * 0.05; // Much gentler
                        particle.vx += (dx / distance) * force * 0.1;
                        particle.vy += (dy / distance) * force * 0.1;
                    }
                });
                
                // Stable quantum grid - gentle pulsing only
                this.quantumGrid.forEach(node => {
                    const baseEnergy = 0.4 + 0.3 * Math.sin(this.time * 0.5 + node.pulsePhase);
                    node.energy = baseEnergy; // No scroll chaos
                });
                
                // Removed orbital system for cleaner Apple-style background
                
                // Section-based constellation transformations
                this.updateConstellationsForSection(scroll);
            }
            
            updateParticleForSection(particle, scroll) {
                // ULTRA SMOOTH, NO CHAOS - just gentle breathing effect
                const scrollProgress = Math.min((scroll.y || 0) / (document.body.scrollHeight - window.innerHeight), 1);
                
                // Fixed color - no chaotic changes
                particle.targetHue = 210; // Consistent blue
                
                // Very gentle size breathing based on scroll
                const breathe = 0.9 + 0.1 * Math.sin(this.time * 0.3 + scrollProgress * Math.PI);
                particle.targetSize = breathe;
                
                // ULTRA SMOOTH transitions - no jerky movements
                particle.hue += (particle.targetHue - particle.hue) * 0.001;
                particle.sizeMultiplier = particle.sizeMultiplier || 1;
                particle.sizeMultiplier += (particle.targetSize - particle.sizeMultiplier) * 0.001;
            }
            
            updateConstellationsForSection(scroll) {
                const mouse = window.cosmicVerification.mouseTracking;
                const scrollProgress = Math.min((scroll.y || 0) / (document.body.scrollHeight - window.innerHeight), 1);
                
                this.constellations.forEach((constellation, index) => {
                    // APPLE-STYLE GENTLE SIDE FLOATING
                    const floatX = Math.sin(this.time * constellation.floatSpeed + constellation.floatPhase) * 15;
                    const floatY = Math.cos(this.time * constellation.floatSpeed * 0.7 + constellation.floatPhase) * 8;
                    
                    // Scroll-based vertical movement (elegant parallax)
                    const scrollOffset = scrollProgress * 50 * (0.5 + (index % 3) * 0.3); // Different speeds per constellation
                    
                    // Update constellation position
                    constellation.currentX = constellation.baseX + floatX;
                    constellation.currentY = constellation.baseY + floatY - scrollOffset;
                    
                    // Update star positions relative to constellation center
                    constellation.stars.forEach(star => {
                        star.x = star.baseX - constellation.baseX + constellation.currentX;
                        star.y = star.baseY - constellation.baseY + constellation.currentY;
                    });
                    
                    // Gentle mouse proximity energy
                    let totalEnergy = 0;
                    constellation.stars.forEach(star => {
                        const distance = Math.hypot(mouse.x - star.x, mouse.y - star.y);
                        if (distance < 120) {
                            totalEnergy += (120 - distance) / 120;
                        }
                    });
                    
                    // Elegant breathing effect
                    const breathingEffect = 0.7 + 0.2 * Math.sin(this.time * 0.3 + index * Math.PI / 4);
                    const mouseEnergy = totalEnergy / constellation.stars.length;
                    
                    constellation.energy = Math.max(mouseEnergy * 0.4, breathingEffect);
                });
            }
            
            updateSectionEffects() {
                // Apple-style clean background - no unnecessary orbital wells
                // All effects are now handled in constellation updates
            }
            
            repositionElements() {
                // Reposition elements after resize
                this.gravitationalWells.forEach((well, index) => {
                    well.x = this.w * (0.3 + index * 0.2);
                    well.y = this.h * (0.3 + (index % 2) * 0.4);
                    well.originalX = well.x;
                    well.originalY = well.y;
                });
                
                // Reposition constellations to new screen size
                const positions = [
                    // Top row
                    { x: 0.2, y: 0.15 }, { x: 0.5, y: 0.1 }, { x: 0.8, y: 0.15 },
                    // Upper middle row
                    { x: 0.1, y: 0.35 }, { x: 0.4, y: 0.3 }, { x: 0.6, y: 0.3 }, { x: 0.9, y: 0.35 },
                    // Lower middle row  
                    { x: 0.15, y: 0.65 }, { x: 0.45, y: 0.7 }, { x: 0.55, y: 0.7 }, { x: 0.85, y: 0.65 },
                    // Bottom row
                    { x: 0.3, y: 0.9 }, { x: 0.7, y: 0.9 }
                ];
                
                this.constellations.forEach((constellation, index) => {
                    if (positions[index]) {
                        constellation.baseX = this.w * positions[index].x;
                        constellation.baseY = this.h * positions[index].y;
                        constellation.currentX = constellation.baseX;
                        constellation.currentY = constellation.baseY;
                        
                        // Recreate stars for new position
                        constellation.stars = this.createConstellationStars(constellation.baseX, constellation.baseY, 'elegant');
                    }
                });
            }
            
            renderEverything() {
                const scroll = window.cosmicVerification.scroll || { currentSection: 'start', sectionProgress: 0, velocity: 0 };
                
                // Dynamic background based on current section
                this.renderDynamicBackground(scroll);
                
                // Render all systems in depth order
                this.renderQuantumGrid();
                this.renderConstellations();
                this.renderGlassParticles();
                this.renderScrollEffects(scroll);
                this.renderMouseEffects();
            }
            
            renderDynamicBackground(scroll) {
                const scrollY = scroll.y || 0;
                
                // Elegant, minimalistic gradient that subtly shifts with scroll
                const gradient = this.ctx.createRadialGradient(
                    this.centerX + Math.sin(scrollY * 0.0005) * 50, 
                    this.centerY + Math.cos(scrollY * 0.0005) * 30, 0,
                    this.centerX, this.centerY, Math.max(this.w, this.h)
                );
                
                // Sophisticated deep space colors
                gradient.addColorStop(0, '#000814');     // Deep space blue
                gradient.addColorStop(0.3, '#001220');   // Darker blue
                gradient.addColorStop(0.6, '#001428');   // Navy
                gradient.addColorStop(1, '#000814');     // Back to deep space
                
                this.ctx.fillStyle = gradient;
                this.ctx.fillRect(0, 0, this.w, this.h);
                
                // Subtle nebula effects
                this.renderElegantNebula(scroll);
            }
            
            renderElegantNebula(scroll) {
                const nebulaOffset = (scroll.y || 0) * 0.01;
                
                // Subtle, elegant nebula clouds
                for (let i = 0; i < 2; i++) {
                    const x = this.w * (0.3 + i * 0.4) + Math.sin(nebulaOffset + i * Math.PI) * 80;
                    const y = this.h * 0.5 + Math.cos(nebulaOffset + i * Math.PI) * 60;
                    const size = 300 + Math.sin(this.time * 0.2 + i) * 80;
                    
                    const nebulaGradient = this.ctx.createRadialGradient(x, y, 0, x, y, size);
                    nebulaGradient.addColorStop(0, 'hsla(210, 30%, 25%, 0.03)');
                    nebulaGradient.addColorStop(0.5, 'hsla(210, 30%, 15%, 0.02)');
                    nebulaGradient.addColorStop(1, 'transparent');
                    
                    this.ctx.fillStyle = nebulaGradient;
                    this.ctx.fillRect(x - size, y - size, size * 2, size * 2);
                }
            }
            
            renderScrollEffects(scroll) {
                // NO chaotic effects - just stable beauty
                // Remove all velocity-based chaos
            }
            

            
            renderQuantumGrid() {
                this.ctx.save();
                
                // Render connections
                this.quantumGrid.forEach(node => {
                    node.connections.forEach(connIndex => {
                        const other = this.quantumGrid[connIndex];
                        if (!other) return;
                        
                        const energy = (node.energy + other.energy) / 2;
                        this.ctx.beginPath();
                        this.ctx.moveTo(node.x, node.y);
                        this.ctx.lineTo(other.x, other.y);
                        this.ctx.strokeStyle = `hsla(180, 80%, 70%, ${energy * 0.5})`;
                        this.ctx.lineWidth = 1;
                        this.ctx.stroke();
                    });
                });
                
                // Render nodes
                this.quantumGrid.forEach(node => {
                    const size = node.baseRadius * (0.5 + node.energy * 0.8);
                    this.ctx.beginPath();
                    this.ctx.arc(node.x, node.y, size, 0, Math.PI * 2);
                    this.ctx.fillStyle = `hsla(180, 80%, 80%, ${0.6 + node.energy * 0.4})`;
                    this.ctx.shadowBlur = 10;
                    this.ctx.shadowColor = 'cyan';
                    this.ctx.fill();
                    this.ctx.shadowBlur = 0;
                });
                
                this.ctx.restore();
            }
            
            renderOrbitalSystem() {
                this.ctx.save();
                
                // Render gravitational wells
                this.gravitationalWells.forEach(well => {
                    const gradient = this.ctx.createRadialGradient(
                        well.x, well.y, 0,
                        well.x, well.y, 100
                    );
                    gradient.addColorStop(0, 'hsla(45, 100%, 70%, 0.1)');
                    gradient.addColorStop(1, 'transparent');
                    
                    this.ctx.fillStyle = gradient;
                    this.ctx.fillRect(well.x - 100, well.y - 100, 200, 200);
                });
                
                // Render orbital bodies
                this.orbitalBodies.forEach(body => {
                    // Trail
                    if (body.trail.length > 1) {
                        this.ctx.beginPath();
                        this.ctx.moveTo(body.trail[0].x, body.trail[0].y);
                        for (let i = 1; i < body.trail.length; i++) {
                            this.ctx.lineTo(body.trail[i].x, body.trail[i].y);
                        }
                        this.ctx.strokeStyle = `hsla(${body.hue}, 70%, 60%, 0.4)`;
                        this.ctx.lineWidth = 1;
                        this.ctx.stroke();
                    }
                    
                    // Body
                    this.ctx.beginPath();
                    this.ctx.arc(body.x, body.y, body.size, 0, Math.PI * 2);
                    this.ctx.fillStyle = `hsla(${body.hue}, 80%, 70%, 0.9)`;
                    this.ctx.shadowBlur = 6;
                    this.ctx.shadowColor = `hsla(${body.hue}, 80%, 70%, 0.5)`;
                    this.ctx.fill();
                    this.ctx.shadowBlur = 0;
                });
                
                this.ctx.restore();
            }
            
            renderConstellations() {
                this.ctx.save();
                
                this.constellations.forEach(constellation => {
                    const energyBoost = constellation.energy;
                    
                    // Render elegant star connections first
                    constellation.stars.forEach(star => {
                        if (star.connections) {
                            star.connections.forEach(connectionIndex => {
                                const connectedStar = constellation.stars[connectionIndex];
                                if (connectedStar) {
                                    this.ctx.beginPath();
                                    this.ctx.moveTo(star.x, star.y);
                                    this.ctx.lineTo(connectedStar.x, connectedStar.y);
                                    this.ctx.strokeStyle = `hsla(210, 60%, 80%, ${energyBoost * 0.3})`;
                                    this.ctx.lineWidth = 1;
                                    this.ctx.stroke();
                                }
                            });
                        }
                    });
                    
                    // Render beautiful twinkling stars
                    constellation.stars.forEach(star => {
                        const twinkle = 0.7 + 0.3 * Math.sin(this.time * 2 + star.twinklePhase);
                        const size = star.size * (1 + energyBoost * 0.3) * twinkle;
                        const brightness = star.brightness * (0.8 + energyBoost * 0.2);
                        
                        // Main star
                        this.ctx.beginPath();
                        this.ctx.arc(star.x, star.y, size, 0, Math.PI * 2);
                        this.ctx.fillStyle = `hsla(210, 60%, ${brightness * 90}%, 0.9)`;
                        this.ctx.shadowBlur = 8;
                        this.ctx.shadowColor = constellation.color;
                        this.ctx.fill();
                        
                        // Subtle star glow
                        this.ctx.beginPath();
                        this.ctx.arc(star.x, star.y, size * 2, 0, Math.PI * 2);
                        this.ctx.fillStyle = `hsla(210, 60%, ${brightness * 90}%, 0.1)`;
                        this.ctx.fill();
                        
                        this.ctx.shadowBlur = 0;
                    });
                });
                
                this.ctx.restore();
            }
            
            renderGlassParticles() {
                this.ctx.save();
                
                const scroll = window.cosmicVerification.scroll || { y: 0, velocity: 0 };
                
                // Render particles in layers for true parallax depth
                for (let layer = 0; layer < 5; layer++) {
                    this.particles
                        .filter(particle => particle.layer === layer)
                        .forEach(particle => {
                            // Multi-layer parallax with different speeds per layer
                            const layerSpeed = (layer + 1) * 0.1; // Layer 0: 0.1x, Layer 4: 0.5x
                            const parallaxOffset = scroll.y * layerSpeed;
                            
                            // Use the pre-calculated parallaxY from updateAllSystems
                            const renderY = particle.parallaxY || particle.y;
                            
                            // Dynamic pulsing with layer-specific timing
                            const pulse = 0.8 + 0.2 * Math.sin(this.time * (2 + layer * 0.3));
                            const size = particle.radius * particle.sizeMultiplier * pulse;
                            const alpha = particle.opacity * pulse * (1 - layer * 0.1); // Deeper layers more transparent
                            
                            // Skip if particle is outside view
                            if (renderY < -size || renderY > this.h + size) return;
                            
                            // Dynamic glass morphism gradient based on current hue
                            const gradient = this.ctx.createRadialGradient(
                                particle.x, renderY, 0,
                                particle.x, renderY, size * 1.5
                            );
                            
                            gradient.addColorStop(0, `hsla(${particle.hue}, 70%, 80%, ${alpha})`);
                            gradient.addColorStop(0.5, `hsla(${particle.hue}, 70%, 60%, ${alpha * 0.7})`);
                            gradient.addColorStop(0.8, `hsla(${particle.hue}, 70%, 40%, ${alpha * 0.3})`);
                            gradient.addColorStop(1, 'transparent');
                            
                            // Main particle body
                            this.ctx.beginPath();
                            this.ctx.arc(particle.x, renderY, size, 0, Math.PI * 2);
                            this.ctx.fillStyle = gradient;
                            this.ctx.fill();
                            
                            // Glass reflection effect
                            const reflectionGradient = this.ctx.createLinearGradient(
                                particle.x - size * 0.3, renderY - size * 0.3,
                                particle.x + size * 0.3, renderY + size * 0.3
                            );
                            reflectionGradient.addColorStop(0, `hsla(${particle.hue}, 30%, 90%, ${alpha * 0.4})`);
                            reflectionGradient.addColorStop(1, 'transparent');
                            
                            this.ctx.beginPath();
                            this.ctx.arc(particle.x, renderY, size * 0.6, 0, Math.PI * 2);
                            this.ctx.fillStyle = reflectionGradient;
                            this.ctx.fill();
                            
                            // Blur effect with velocity-based intensity
                            const blurIntensity = particle.blur * (1 + scroll.velocity * 0.01);
                            this.ctx.shadowBlur = blurIntensity;
                            this.ctx.shadowColor = `hsla(${particle.hue}, 70%, 70%, ${alpha * 0.3})`;
                            this.ctx.fill();
                            this.ctx.shadowBlur = 0;
                        });
                }
                
                this.ctx.restore();
            }
            
            renderMouseEffects() {
                const mouse = window.cosmicVerification.mouseTracking;
                
                if (mouse.pressure > 0.1) {
                    this.ctx.save();
                    
                    // Energy ripples
                    for (let i = 0; i < 3; i++) {
                        const radius = 40 + i * 25 + this.time * 80;
                        const alpha = mouse.pressure * 0.4 * (1 - i * 0.3);
                        
                        this.ctx.beginPath();
                        this.ctx.arc(mouse.x, mouse.y, radius % 150, 0, Math.PI * 2);
                        this.ctx.strokeStyle = `hsla(180, 80%, 70%, ${alpha})`;
                        this.ctx.lineWidth = 2;
                        this.ctx.stroke();
                    }
                    
                    this.ctx.restore();
                }
            }
        }
        
        // GLOBALNE PRZECHWYTYWANIE B≈ÅƒòD√ìW
        window.addEventListener('error', function(e) {
            console.error('üö® Global Error:', e.message, 'at', e.filename + ':' + e.lineno);
        });
        
        window.addEventListener('unhandledrejection', function(e) {
            console.error('üö® Unhandled Promise:', e.reason);
        });
        
        // LEGACY COSMIC INITIALIZATION DISABLED
        console.log('üîÑ Legacy cosmic initialization disabled - Revolutionary Engine active');
        
        // Navigation functions
        function scrollToPortfolio() {
            document.getElementById('portfolio').scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
        
        function scrollToContact() {
            document.getElementById('contact').scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
        
        // üî• DYNAMIC NAVIGATION BLUR ON SCROLL
        function initNavigationBlur() {
            const navbar = document.querySelector('.nav-glass');
            if (!navbar) return;
            
            let lastScrollY = 0;
            
            function updateNavBlur() {
                const scrollY = window.pageYOffset;
                
                // Add blur when scrolled down more than 50px
                if (scrollY > 50) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
                
                lastScrollY = scrollY;
            }
            
            // Throttled scroll listener for performance
            let ticking = false;
            function onScroll() {
                if (!ticking) {
                    requestAnimationFrame(() => {
                        updateNavBlur();
                        ticking = false;
                    });
                    ticking = true;
                }
            }
            
            window.addEventListener('scroll', onScroll);
            updateNavBlur(); // Initial check
            
            console.log('‚úÖ Dynamic navigation blur initialized');
        }
        
        // üî• NAVIGATION LINKS HANDLER
        function initNavigationLinks() {
            const navLinks = document.querySelectorAll('.nav-link');
            const navToggle = null; // hamburger usuniƒôty
            const navMenu = document.querySelector('.nav-menu');
            
            // Smooth scrolling ONLY for hash links; allow normal navigation for pages
            navLinks.forEach((link, index) => {
                console.log(`üîó Setting up nav-link ${index + 1}:`, link.href, link.textContent);
                
                link.addEventListener('click', (e) => {
                    const href = link.getAttribute('href') || '';
                    // If not an in-page anchor (starts with '#'), do NOT hijack ‚Äì let browser navigate
                    if (!href.startsWith('#') || href === '#') {
                        return;
                    }
                    e.preventDefault();
                    
                    const targetSection = document.querySelector(href);
                    console.log('üéØ Target section:', href, targetSection);
                    
                    if (targetSection) {
                        targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        console.log('‚úÖ Scrolling to:', href);
                    } else {
                        console.error('‚ùå Target section not found:', href);
                    }
                    
                    // Close mobile menu if open
                    if (navMenu) navMenu.classList.remove('active');
                    if (navToggle) navToggle.classList.remove('active');
                });
            });
            
            // Mobile menu toggle
            // Brak hamburgera ‚Äì nic nie prze≈ÇƒÖczamy
            
            console.log('‚úÖ Navigation links initialized:', navLinks.length);
        }
        
        // Force initialization with multiple methods
        function initializeAll() {
            console.log('üöÄ Starting initialization...');
            console.log('Document ready state:', document.readyState);
            
            // Force delay to ensure everything is loaded
            setTimeout(() => {
                console.log('üî• Delayed initialization starting...');
                initNavigationBlur();
                initNavigationLinks();
            }, 100);
        }
        
        // Multiple initialization triggers
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeAll);
        } else if (document.readyState === 'interactive') {
            setTimeout(initializeAll, 50);
        } else {
            initializeAll();
        }
        
        // Backup initialization on window load
        window.addEventListener('load', () => {
            console.log('üîÑ Window load backup initialization');
            setTimeout(() => {
                const navLinks = document.querySelectorAll('.nav-link');
                if (navLinks.length === 0) {
                    console.log('üîÑ Nav links not found, retrying...');
                    initNavigationLinks();
                }
            }, 200);
        });
    </script>
    
    <!-- üåå DYNAMICZNE T≈ÅO KOSMICZNE - COSMIC ENGINE -->
    
    <script>
        // üåå COSMIC BACKGROUND ENGINE
        class CosmicEngine {
            constructor() {
                this.init();
            }
            
            init() {
                this.setupScrollEffects();
                this.setupInteractivity();
                this.startCosmicEffects();
                console.log('üåå Cosmic Engine initialized with dynamic constellations and particles');
            }
            
            setupScrollEffects() {
                let ticking = false;
                
                const updateScrollEffects = () => {
                    const scrollY = window.pageYOffset;
                    document.documentElement.style.setProperty('--scroll-y', scrollY);
                    
                    // Parallax effect for cosmic layers
                    const foundation = document.getElementById('cosmic-foundation');
                    if (foundation) {
                        const parallaxAmount = scrollY * 0.3;
                        foundation.style.transform = `translateY(${parallaxAmount}px)`;
                    }
                    
                    ticking = false;
                };
                
                const requestScrollUpdate = () => {
                    if (!ticking) {
                        requestAnimationFrame(updateScrollEffects);
                        ticking = true;
                    }
                };
                
                window.addEventListener('scroll', requestScrollUpdate, { passive: true });
            }
            
            setupInteractivity() {
                let mouseX = 0;
                let mouseY = 0;
                
                document.addEventListener('mousemove', (e) => {
                    mouseX = (e.clientX / window.innerWidth) * 100;
                    mouseY = (e.clientY / window.innerHeight) * 100;
                    
                    // Subtle mouse influence on particles
                    const foundation = document.getElementById('cosmic-foundation');
                    if (foundation) {
                        const before = foundation.querySelector('::before');
                        const after = foundation.querySelector('::after');
                        
                        // CSS custom properties for mouse interaction
                        foundation.style.setProperty('--mouse-x', mouseX + '%');
                        foundation.style.setProperty('--mouse-y', mouseY + '%');
                    }
                });
            }
            
            startCosmicEffects() {
                // Add more dynamic stars
                this.addDynamicStars();
                
                // Twinkling effect
                this.startTwinkling();
                
                // Shooting stars occasionally
                this.addShootingStars();
            }
            
            addDynamicStars() {
                const foundation = document.getElementById('cosmic-foundation');
                if (!foundation) return;
                
                // Create additional star layer
                const starLayer = document.createElement('div');
                starLayer.className = 'dynamic-stars';
                starLayer.style.cssText = `
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    pointer-events: none;
                    z-index: 1;
                `;
                
                // Add random stars
                for (let i = 0; i < 50; i++) {
                    const star = document.createElement('div');
                    const size = Math.random() * 3 + 1;
                    const x = Math.random() * 100;
                    const y = Math.random() * 100;
                    const opacity = Math.random() * 0.8 + 0.2;
                    
                    star.style.cssText = `
                        position: absolute;
                        width: ${size}px;
                        height: ${size}px;
                        background: white;
                        border-radius: 50%;
                        left: ${x}%;
                        top: ${y}%;
                        opacity: ${opacity};
                        animation: twinkle ${Math.random() * 3 + 2}s ease-in-out infinite alternate;
                    `;
                    
                    starLayer.appendChild(star);
                }
                
                foundation.appendChild(starLayer);
            }
            
            startTwinkling() {
                // Enhanced twinkling for dynamic stars
                setInterval(() => {
                    const stars = document.querySelectorAll('.dynamic-stars div');
                    stars.forEach(star => {
                        if (Math.random() < 0.1) { // 10% chance
                            star.style.animationDuration = (Math.random() * 2 + 1) + 's';
                        }
                    });
                }, 2000);
            }
            
            addShootingStars() {
                setInterval(() => {
                    if (Math.random() < 0.3) { // 30% chance every interval
                        this.createShootingStar();
                    }
                }, 8000);
            }
            
            createShootingStar() {
                const foundation = document.getElementById('cosmic-foundation');
                if (!foundation) return;
                
                const shootingStar = document.createElement('div');
                const startX = Math.random() * 100;
                const startY = Math.random() * 30; // Start from top area
                
                shootingStar.style.cssText = `
                    position: absolute;
                    width: 2px;
                    height: 2px;
                    background: linear-gradient(45deg, white, transparent);
                    border-radius: 50%;
                    left: ${startX}%;
                    top: ${startY}%;
                    opacity: 1;
                    z-index: 2;
                    animation: shootingStar 2s linear forwards;
                `;
                
                // Add shooting star animation
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes shootingStar {
                        0% {
                            transform: translate(0, 0) scale(1);
                            opacity: 1;
                            box-shadow: 0 0 4px white;
                        }
                        100% {
                            transform: translate(200px, 100px) scale(0);
                            opacity: 0;
                            box-shadow: 0 0 8px white;
                        }
                    }
                `;
                document.head.appendChild(style);
                
                foundation.appendChild(shootingStar);
                
                // Remove after animation
                setTimeout(() => {
                    if (shootingStar.parentNode) {
                        shootingStar.parentNode.removeChild(shootingStar);
                    }
                }, 2000);
            }
        }
        
        // Initialize when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            new CosmicEngine();
        });
    </script>
    
    <script>
                // üîç DEBUGGING CZARNEGO T≈ÅA + BLUE BACKGROUND DETECTION
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üåå COSMIC FOUNDATION DEBUG:');
            
            const foundation = document.getElementById('cosmic-foundation');
            if (foundation) {
                console.log('‚úÖ Cosmic foundation element found');
                console.log('üìê Element styles:', getComputedStyle(foundation));
                console.log('üé® Background:', getComputedStyle(foundation).background);
                console.log('üìç Position:', getComputedStyle(foundation).position);
                console.log('üìè Dimensions:', getComputedStyle(foundation).width, 'x', getComputedStyle(foundation).height);
                console.log('üî¢ Z-index:', getComputedStyle(foundation).zIndex);
                console.log('üëÅÔ∏è Visibility:', getComputedStyle(foundation).visibility);
                console.log('üí´ Opacity:', getComputedStyle(foundation).opacity);
                
                // üîç SPRAWD≈π WSZYSTKIE ELEMENTY KT√ìRE MOGƒÑ MIEƒÜ NIEBIESKIE T≈ÅO
                console.log('üîç SEARCHING FOR BLUE BACKGROUNDS:');
                const allElements = document.querySelectorAll('*');
                allElements.forEach((el, index) => {
                    if (index < 100) { // Sprawd≈∫ pierwsze 100 element√≥w
                        const style = getComputedStyle(el);
                        const bg = style.background || style.backgroundColor;
                        if (bg && (bg.includes('blue') || bg.includes('#00') || bg.includes('rgb(0,') || bg.includes('rgba(0,') || bg.includes('#1e3a8a') || bg.includes('#000033'))) {
                            console.log('üîµ BLUE BACKGROUND FOUND:', el.tagName, el.className, bg);
                            console.log('üîµ ELEMENT:', el);
                        }
                    }
                });
                
            } else {
                console.error('‚ùå Cosmic foundation element NOT FOUND!');
            }
            
            // Sprawd≈∫ body background
            console.log('üåç Body background:', getComputedStyle(document.body).background);
            console.log('üåç Body background-color:', getComputedStyle(document.body).backgroundColor);
            
            // Check all elements that might be covering
            console.log('üîç CHECKING COVERING ELEMENTS:');
            const main = document.querySelector('main');
            const contentWrapper = document.querySelector('.content-wrapper');
            if (main) console.log('üì¶ Main z-index:', getComputedStyle(main).zIndex, 'background:', getComputedStyle(main).backgroundColor);
            if (contentWrapper) console.log('üì¶ Content wrapper z-index:', getComputedStyle(contentWrapper).zIndex, 'background:', getComputedStyle(contentWrapper).backgroundColor);
            
            // üîç SPRAWD≈π CZY JAKI≈ö ELEMENT MA WYSOKI Z-INDEX I NIEBIESKIE T≈ÅO
            console.log('üîç CHECKING HIGH Z-INDEX ELEMENTS:');
            const allElements2 = document.querySelectorAll('*');
            allElements2.forEach((el) => {
                const style = getComputedStyle(el);
                const zIndex = parseInt(style.zIndex);
                const bg = style.background || style.backgroundColor;
                if (zIndex > 0 && bg && (bg.includes('blue') || bg.includes('#00') || bg.includes('rgb(0,') || bg.includes('rgba(0,') || bg.includes('#1e3a8a') || bg.includes('#000033'))) {
                    console.log('üö® HIGH Z-INDEX BLUE ELEMENT:', el.tagName, el.className, 'z-index:', zIndex, 'background:', bg);
                }
            });
            
            // üö® NUCLEAR OPTION - FORCE BLACK BACKGROUND
            console.log('üö® APPLYING NUCLEAR FORCE...');
            document.body.style.background = '#000000 !important';
            document.body.style.backgroundColor = '#000000 !important';
            document.body.style.backgroundImage = 'none !important';
            
            // üö® FORCE ALL SECTIONS TO BE TRANSPARENT
            const sections = document.querySelectorAll('section, main, div');
            sections.forEach(section => {
                section.style.backgroundColor = 'transparent !important';
                section.style.background = 'transparent !important';
            });
            
            // üö® FORCE NAV TO BE TRANSPARENT
            const nav = document.querySelector('.nav-glass');
            if (nav) {
                nav.style.backgroundColor = 'transparent !important';
                nav.style.background = 'transparent !important';
                nav.style.backdropFilter = 'none !important';
                console.log('üö® NAV FORCED TRANSPARENT');
            }
            
            // üö® FORCE ALL ELEMENTS WITH HIGH Z-INDEX TO BE TRANSPARENT
            const allElements3 = document.querySelectorAll('*');
            allElements3.forEach(el => {
                const style = getComputedStyle(el);
                const zIndex = parseInt(style.zIndex);
                if (zIndex > 0) {
                    el.style.backgroundColor = 'transparent !important';
                    el.style.background = 'transparent !important';
                }
            });
            
            console.log('üö® NUCLEAR FORCE APPLIED!');
        });
    </script>

    <!-- üå† KOSMICZNE T≈ÅO - CA≈ÅY SYSTEM (wy≈ÇƒÖczone) 
    <script>
        // Inicjalizacja systemu kosmicznego
        class VisionaryCosmicMasterpiece {
            constructor() {
                this.canvas = document.getElementById('cosmic-canvas');
                this.constellationCanvas = document.getElementById('constellation-canvas');
                this.particleCanvas = document.getElementById('particle-canvas');
                this.globalCanvas = document.getElementById('global-particles-bg');
                
                this.ctx = this.canvas.getContext('2d');
                this.constellationCtx = this.constellationCanvas.getContext('2d');
                this.particleCtx = this.particleCanvas.getContext('2d');
                this.globalCtx = this.globalCanvas.getContext('2d');
                
                this.particles = [];
                this.constellations = [];
                this.stars = [];
                
                this.init();
            }
            
            init() {
                this.setupCanvas();
                this.createParticles();
                this.createConstellations();
                this.createStars();
                this.animate();
                
                // Force visible background
                document.body.style.background = '#000000';
                document.body.style.backgroundColor = '#000000';
                
                // Show foundation
                const foundation = document.getElementById('cosmic-foundation');
                if (foundation) {
                    foundation.style.background = '#000000';
                    foundation.style.position = 'fixed';
                    foundation.style.top = '0';
                    foundation.style.left = '0';
                    foundation.style.width = '100vw';
                    foundation.style.height = '100vh';
                    foundation.style.zIndex = '-100';
                }
            }
            
            setupCanvas() {
                const canvases = [this.canvas, this.constellationCanvas, this.particleCanvas, this.globalCanvas];
                canvases.forEach(canvas => {
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                    canvas.style.position = 'fixed';
                    canvas.style.top = '0';
                    canvas.style.left = '0';
                    canvas.style.pointerEvents = 'none';
                    canvas.style.zIndex = '-1';
                });
            }
            
            createParticles() {
                for (let i = 0; i < 200; i++) {
                    this.particles.push({
                        x: Math.random() * window.innerWidth,
                        y: Math.random() * window.innerHeight,
                        vx: (Math.random() - 0.5) * 0.5,
                        vy: (Math.random() - 0.5) * 0.5,
                        size: Math.random() * 2 + 0.5,
                        opacity: Math.random() * 0.5 + 0.3,
                        color: `hsl(${180 + Math.random() * 60}, 70%, 60%)`
                    });
                }
            }
            
            createConstellations() {
                const constellations = [
                    {
                        name: 'Ursa Major',
                        stars: [
                            {x: 0.2, y: 0.3}, {x: 0.25, y: 0.32}, {x: 0.3, y: 0.35},
                            {x: 0.35, y: 0.33}, {x: 0.4, y: 0.36}, {x: 0.38, y: 0.4},
                            {x: 0.33, y: 0.42}
                        ]
                    },
                    {
                        name: 'Orion',
                        stars: [
                            {x: 0.6, y: 0.4}, {x: 0.65, y: 0.35}, {x: 0.7, y: 0.45},
                            {x: 0.68, y: 0.5}, {x: 0.72, y: 0.52}, {x: 0.66, y: 0.55},
                            {x: 0.74, y: 0.48}
                        ]
                    },
                    {
                        name: 'Cassiopeia',
                        stars: [
                            {x: 0.8, y: 0.2}, {x: 0.82, y: 0.25}, {x: 0.85, y: 0.22},
                            {x: 0.88, y: 0.26}, {x: 0.9, y: 0.23}
                        ]
                    }
                ];
                
                const width = window.innerWidth;
                const height = window.innerHeight;
                
                constellations.forEach(constellation => {
                    const stars = constellation.stars.map(star => ({
                        x: star.x * width,
                        y: star.y * height,
                        size: Math.random() * 3 + 2,
                        twinkle: Math.random() * Math.PI * 2
                    }));
                    
                    this.constellations.push({
                        name: constellation.name,
                        stars: stars,
                        rotation: 0,
                        glowIntensity: 0.5
                    });
                });
            }
            
            createStars() {
                for (let i = 0; i < 150; i++) {
                    this.stars.push({
                        x: Math.random() * window.innerWidth,
                        y: Math.random() * window.innerHeight,
                        size: Math.random() * 1.5 + 0.5,
                        opacity: Math.random() * 0.8 + 0.2,
                        twinkleSpeed: Math.random() * 0.02 + 0.01
                    });
                }
            }
            
            drawParticles() {
                this.particleCtx.clearRect(0, 0, this.particleCanvas.width, this.particleCanvas.height);
                
                this.particles.forEach(particle => {
                    this.particleCtx.beginPath();
                    this.particleCtx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
                    this.particleCtx.fillStyle = particle.color;
                    this.particleCtx.globalAlpha = particle.opacity;
                    this.particleCtx.fill();
                    
                    // Glow effect
                    this.particleCtx.shadowBlur = 10;
                    this.particleCtx.shadowColor = particle.color;
                    this.particleCtx.fill();
                    this.particleCtx.shadowBlur = 0;
                });
            }
            
            drawConstellations() {
                this.constellationCtx.clearRect(0, 0, this.constellationCanvas.width, this.constellationCanvas.height);
                
                this.constellations.forEach(constellation => {
                    // Draw connections
                    this.constellationCtx.strokeStyle = 'rgba(0, 191, 255, 0.3)';
                    this.constellationCtx.lineWidth = 1;
                    this.constellationCtx.beginPath();
                    
                    for (let i = 0; i < constellation.stars.length - 1; i++) {
                        const star1 = constellation.stars[i];
                        const star2 = constellation.stars[i + 1];
                        this.constellationCtx.moveTo(star1.x, star1.y);
                        this.constellationCtx.lineTo(star2.x, star2.y);
                    }
                    this.constellationCtx.stroke();
                    
                    // Draw stars
                    constellation.stars.forEach(star => {
                        const glow = Math.sin(star.twinkle) * 0.5 + 0.5;
                        
                        this.constellationCtx.beginPath();
                        this.constellationCtx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
                        this.constellationCtx.fillStyle = `rgba(255, 255, 255, ${0.8 + glow * 0.2})`;
                        this.constellationCtx.fill();
                        
                        // Glow
                        this.constellationCtx.shadowBlur = 5 + glow * 5;
                        this.constellationCtx.shadowColor = '#00BFFF';
                        this.constellationCtx.fill();
                        this.constellationCtx.shadowBlur = 0;
                        
                        star.twinkle += 0.02;
                    });
                });
            }
            
            drawStars() {
                this.globalCtx.clearRect(0, 0, this.globalCanvas.width, this.globalCanvas.height);
                
                this.stars.forEach(star => {
                    const twinkle = Math.sin(Date.now() * star.twinkleSpeed) * 0.5 + 0.5;
                    
                    this.globalCtx.beginPath();
                    this.globalCtx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
                    this.globalCtx.fillStyle = `rgba(255, 255, 255, ${star.opacity * twinkle})`;
                    this.globalCtx.fill();
                    
                    // Subtle glow
                    this.globalCtx.shadowBlur = 2;
                    this.globalCtx.shadowColor = 'white';
                    this.globalCtx.fill();
                    this.globalCtx.shadowBlur = 0;
                });
            }
            
            updateParticles() {
                this.particles.forEach(particle => {
                    particle.x += particle.vx;
                    particle.y += particle.vy;
                    
                    // Wrap around screen
                    if (particle.x < 0) particle.x = window.innerWidth;
                    if (particle.x > window.innerWidth) particle.x = 0;
                    if (particle.y < 0) particle.y = window.innerHeight;
                    if (particle.y > window.innerHeight) particle.y = 0;
                });
            }
            
            animate() {
                this.updateParticles();
                this.drawParticles();
                this.drawConstellations();
                this.drawStars();
                
                requestAnimationFrame(() => this.animate());
            }
            
            handleResize() {
                window.addEventListener('resize', () => {
                    this.setupCanvas();
                    this.createConstellations();
                    this.createStars();
                });
            }
        }
        
        // Uruchomienie systemu kosmicznego
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üåå Uruchamiam kosmiczne t≈Ço...');
            const cosmic = new VisionaryCosmicMasterpiece();
            cosmic.handleResize();
            
            // Ensure black background
            document.body.style.background = '#000000';
            document.body.style.backgroundColor = '#000000';
            
            // Force cosmic foundation visibility
            const foundation = document.getElementById('cosmic-foundation');
            if (foundation) {
                foundation.style.background = '#000000';
                foundation.style.position = 'fixed';
                foundation.style.top = '0';
                foundation.style.left = '0';
                foundation.style.width = '100vw';
                foundation.style.height = '100vh';
                foundation.style.zIndex = '-1000';
                foundation.style.pointerEvents = 'none';
            }
            
            console.log('‚úÖ Kosmiczne t≈Ço aktywne!');
        });
    </script>
    -->
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <!-- Globalne particles t≈Ço -->
    <script>
        // Globalne particles dla ca≈Çej strony
        class GlobalParticles {
            constructor() {
                this.canvas = document.getElementById('global-particles-bg');
                if (!this.canvas) {
                    console.warn('GlobalParticles: #global-particles-bg not found. Skipping initialization.');
                    return;
                }
                this.ctx = this.canvas.getContext('2d');
                this.particles = [];
                this.mouse = { x: 0, y: 0 };
                
                this.init();
            }
            
            init() {
                this.setupCanvas();
                this.createParticles();
                this.bindEvents();
                this.animate();
            }
            
            setupCanvas() {
                this.canvas.width = window.innerWidth;
                this.canvas.height = window.innerHeight;
                this.canvas.style.position = 'fixed';
                this.canvas.style.top = '0';
                this.canvas.style.left = '0';
                this.canvas.style.pointerEvents = 'none';
                this.canvas.style.zIndex = '-2';
                this.canvas.style.opacity = '0.6';
            }
            
            createParticles() {
                for (let i = 0; i < 300; i++) {
                    this.particles.push({
                        x: Math.random() * window.innerWidth,
                        y: Math.random() * window.innerHeight,
                        vx: (Math.random() - 0.5) * 0.2,
                        vy: (Math.random() - 0.5) * 0.2,
                        radius: Math.random() * 1.5 + 0.5,
                        opacity: Math.random() * 0.8 + 0.2,
                        color: `hsl(${180 + Math.random() * 60}, 70%, 60%)`
                    });
                }
            }
            
            bindEvents() {
                window.addEventListener('resize', () => {
                    this.canvas.width = window.innerWidth;
                    this.canvas.height = window.innerHeight;
                });
                
                window.addEventListener('mousemove', (e) => {
                    this.mouse.x = e.clientX;
                    this.mouse.y = e.clientY;
                });
            }
            
            drawParticles() {
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                
                this.particles.forEach(particle => {
                    // Mouse interaction
                    const dx = this.mouse.x - particle.x;
                    const dy = this.mouse.y - particle.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < 100) {
                        const force = (100 - distance) / 100;
                        particle.vx -= (dx / distance) * force * 0.01;
                        particle.vy -= (dy / distance) * force * 0.01;
                    }
                    
                    // Draw particle
                    this.ctx.beginPath();
                    this.ctx.arc(particle.x, particle.y, particle.radius, 0, Math.PI * 2);
                    this.ctx.fillStyle = particle.color;
                    this.ctx.globalAlpha = particle.opacity;
                    this.ctx.fill();
                    
                    // Add glow
                    this.ctx.shadowBlur = 5;
                    this.ctx.shadowColor = particle.color;
                    this.ctx.fill();
                    this.ctx.shadowBlur = 0;
                });
                
                this.ctx.globalAlpha = 1;
            }
            
            updateParticles() {
                this.particles.forEach(particle => {
                    particle.x += particle.vx;
                    particle.y += particle.vy;
                    
                    // Boundary wrapping
                    if (particle.x < 0) particle.x = window.innerWidth;
                    if (particle.x > window.innerWidth) particle.x = 0;
                    if (particle.y < 0) particle.y = window.innerHeight;
                    if (particle.y > window.innerHeight) particle.y = 0;
                    
                    // Velocity damping
                    particle.vx *= 0.99;
                    particle.vy *= 0.99;
                });
            }
            
            animate() {
                this.updateParticles();
                this.drawParticles();
                requestAnimationFrame(() => this.animate());
            }
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            const gp = new GlobalParticles();
            if (!gp || !gp.canvas) {
                console.log('GlobalParticles disabled or canvas missing.');
            }
        });
    </script>
    <!-- üå† KONIEC KOSMICZNEGO T≈ÅA -->
    </main>
</body>
</html>
